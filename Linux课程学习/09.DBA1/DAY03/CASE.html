
<!-- saved from url=(0075)http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>CASE</title>
    
    <script type="text/javascript" src="./CASE_files/jquery.min.js">
    </script>
    <script type="text/javascript" src="./CASE_files/jquery.snippet.js">
    </script>
    <script type="text/javascript" src="./CASE_files/main.js">
    </script>
    <link type="text/css" href="./CASE_files/index.css" rel="Stylesheet">
    <link type="text/css" href="./CASE_files/jquery.snippet.css" rel="Stylesheet">
  </head>
  <body>
    <div class="source_style_case">
      <a name="page_top_case" id="top_anchor">
      </a><a id="link_top" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#page_top_case">Top</a>
      <h1>NSD DBA1 DAY03</h1>
      <ol class="index">
        <li>
          <a href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#case1">MySQL存储引擎的配置</a>
        </li>
        <li>
          <a href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#case2">数据导入/导出</a>
        </li>
        <li>
          <a href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#case3">操作表记录</a>
        </li>
        <li>
          <a href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#case4">查询及匹配条件</a>
        </li>
      </ol>
      <a name="case1">
      </a>
      <h2>1 MySQL存储引擎的配置</h2>
      <h3>1.1 问题</h3>
      <p>本案例要求MySQL数据存储引擎的使用，完成以下任务操作：</p>
      <ul class="list">
        <li>查看服务支持的存储引擎 
</li>
        <li>查看默认存储类型
</li>
        <li>更改表的存储引擎
</li>
        <li>设置数据库服务默认使用的存储引擎 
</li>
      </ul>
      <h3>1.2 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：查看存储引擎信息</p>
      <p>登入MySQL服务器，查看当前支持哪些存储引擎。</p>
      <p>使用mysql命令连接，以root用户登入：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># mysql <span class="sh_symbol">-</span>u root –p</li><li>Enter password<span class="sh_symbol">:</span> </li><li>Welcome to the MySQL monitor<span class="sh_symbol">.</span>  Commands end <span class="sh_keyword">with</span> <span class="sh_symbol">;</span> or <span class="sh_symbol">\</span>g<span class="sh_symbol">.</span></li><li>Your MySQL connection id is <span class="sh_number">9</span></li><li>Server version<span class="sh_symbol">:</span> <span class="sh_number">5.7.17</span> MySQL Community <span class="sh_function">Server</span> <span class="sh_symbol">(</span>GPL<span class="sh_symbol">)</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_function">Copyright</span> <span class="sh_symbol">(</span>c<span class="sh_symbol">)</span> <span class="sh_number">2000</span><span class="sh_symbol">,</span> <span class="sh_number">2016</span><span class="sh_symbol">,</span> Oracle <span class="sh_normal">and</span><span class="sh_symbol">/</span>or its affiliates<span class="sh_symbol">.</span> All rights reserved<span class="sh_symbol">.</span></li><li><span style="display:none;">&nbsp;</span></li><li>Oracle is a registered trademark of Oracle Corporation <span class="sh_normal">and</span><span class="sh_symbol">/</span>or its</li><li>affiliates<span class="sh_symbol">.</span> Other names may be trademarks of their respective</li><li>owners<span class="sh_symbol">.</span></li><li><span style="display:none;">&nbsp;</span></li><li>Type <span class="sh_string">'help;'</span> or <span class="sh_string">'</span><span class="sh_specialchar">\h</span><span class="sh_string">'</span> <span class="sh_keyword">for</span> help<span class="sh_symbol">.</span> Type <span class="sh_string">'</span><span class="sh_specialchar">\c</span><span class="sh_string">'</span> to clear the current input statement<span class="sh_symbol">.</span></li><li><span style="display:none;">&nbsp;</span></li><li>mysql<span class="sh_symbol">&gt;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@dbsvr1 ~]# mysql -u root –p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 9
Server version: 5.7.17 MySQL Community Server (GPL)

Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt; 
</pre></div></div>
      <p>执行SHOW ENGINES\G指令可列表查看，MySQL 5.6可用的存储引擎有9种（除最后的FEDERATED以外，其他8种都支持），其中默认采用的存储引擎为InnoDB：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SHOW ENGINES<span class="sh_symbol">\</span>G</li><li><span class="sh_symbol">***************************</span> <span class="sh_number">1</span><span class="sh_symbol">.</span> row <span class="sh_symbol">***************************</span></li><li>      Engine<span class="sh_symbol">:</span> InnoDB</li><li>     Support<span class="sh_symbol">:</span> DEFAULT                              <span class="sh_comment">//此存储引擎为默认</span></li><li>     Comment<span class="sh_symbol">:</span> Supports transactions<span class="sh_symbol">,</span> row<span class="sh_symbol">-</span>level locking<span class="sh_symbol">,</span> and foreign keys</li><li>Transactions<span class="sh_symbol">:</span> YES</li><li>          XA<span class="sh_symbol">:</span> YES</li><li>  Savepoints<span class="sh_symbol">:</span> YES</li><li><span class="sh_symbol">***************************</span> <span class="sh_number">2</span><span class="sh_symbol">.</span> row <span class="sh_symbol">***************************</span></li><li>      Engine<span class="sh_symbol">:</span> MRG_MYISAM</li><li>     Support<span class="sh_symbol">:</span> YES</li><li>     Comment<span class="sh_symbol">:</span> Collection of identical MyISAM tables</li><li>Transactions<span class="sh_symbol">:</span> NO</li><li>          XA<span class="sh_symbol">:</span> NO</li><li>  Savepoints<span class="sh_symbol">:</span> NO</li><li><span class="sh_symbol">***************************</span> <span class="sh_number">3</span><span class="sh_symbol">.</span> row <span class="sh_symbol">***************************</span></li><li>      Engine<span class="sh_symbol">:</span> MEMORY</li><li>     Support<span class="sh_symbol">:</span> YES</li><li>     Comment<span class="sh_symbol">:</span> Hash based<span class="sh_symbol">,</span> stored <span class="sh_keyword">in</span> memory<span class="sh_symbol">,</span> useful <span class="sh_keyword">for</span> temporary tables</li><li>Transactions<span class="sh_symbol">:</span> NO</li><li>          XA<span class="sh_symbol">:</span> NO</li><li>  Savepoints<span class="sh_symbol">:</span> NO</li><li><span class="sh_symbol">***************************</span> <span class="sh_number">4</span><span class="sh_symbol">.</span> row <span class="sh_symbol">***************************</span></li><li>      Engine<span class="sh_symbol">:</span> BLACKHOLE</li><li>     Support<span class="sh_symbol">:</span> YES</li><li>     Comment<span class="sh_symbol">:</span> <span class="sh_regexp">/dev/</span><span class="sh_keyword">null</span> storage <span class="sh_function">engine</span> <span class="sh_symbol">(</span>anything you write to it disappears<span class="sh_symbol">)</span></li><li>Transactions<span class="sh_symbol">:</span> NO</li><li>          XA<span class="sh_symbol">:</span> NO</li><li>  Savepoints<span class="sh_symbol">:</span> NO</li><li><span class="sh_symbol">***************************</span> <span class="sh_number">5</span><span class="sh_symbol">.</span> row <span class="sh_symbol">***************************</span></li><li>      Engine<span class="sh_symbol">:</span> MyISAM</li><li>     Support<span class="sh_symbol">:</span> YES</li><li>     Comment<span class="sh_symbol">:</span> MyISAM storage engine</li><li>Transactions<span class="sh_symbol">:</span> NO</li><li>          XA<span class="sh_symbol">:</span> NO</li><li>  Savepoints<span class="sh_symbol">:</span> NO</li><li><span class="sh_symbol">***************************</span> <span class="sh_number">6</span><span class="sh_symbol">.</span> row <span class="sh_symbol">***************************</span></li><li>      Engine<span class="sh_symbol">:</span> CSV</li><li>     Support<span class="sh_symbol">:</span> YES</li><li>     Comment<span class="sh_symbol">:</span> CSV storage engine</li><li>Transactions<span class="sh_symbol">:</span> NO</li><li>          XA<span class="sh_symbol">:</span> NO</li><li>  Savepoints<span class="sh_symbol">:</span> NO</li><li><span class="sh_symbol">***************************</span> <span class="sh_number">7</span><span class="sh_symbol">.</span> row <span class="sh_symbol">***************************</span></li><li>      Engine<span class="sh_symbol">:</span> ARCHIVE</li><li>     Support<span class="sh_symbol">:</span> YES</li><li>     Comment<span class="sh_symbol">:</span> Archive storage engine</li><li>Transactions<span class="sh_symbol">:</span> NO</li><li>          XA<span class="sh_symbol">:</span> NO</li><li>  Savepoints<span class="sh_symbol">:</span> NO</li><li><span class="sh_symbol">***************************</span> <span class="sh_number">8</span><span class="sh_symbol">.</span> row <span class="sh_symbol">***************************</span></li><li>      Engine<span class="sh_symbol">:</span> PERFORMANCE_SCHEMA</li><li>     Support<span class="sh_symbol">:</span> YES</li><li>     Comment<span class="sh_symbol">:</span> Performance Schema</li><li>Transactions<span class="sh_symbol">:</span> NO</li><li>          XA<span class="sh_symbol">:</span> NO</li><li>  Savepoints<span class="sh_symbol">:</span> NO</li><li><span class="sh_symbol">***************************</span> <span class="sh_number">9</span><span class="sh_symbol">.</span> row <span class="sh_symbol">***************************</span></li><li>      Engine<span class="sh_symbol">:</span> FEDERATED</li><li>     Support<span class="sh_symbol">:</span> NO                             <span class="sh_comment">//此引擎不被支持</span></li><li>     Comment<span class="sh_symbol">:</span> Federated MySQL storage engine</li><li>Transactions<span class="sh_symbol">:</span> NULL</li><li>          XA<span class="sh_symbol">:</span> NULL</li><li>  Savepoints<span class="sh_symbol">:</span> NULL</li><li><span class="sh_number">9</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.01</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SHOW ENGINES\G
*************************** 1. row ***************************
      Engine: InnoDB
     Support: DEFAULT                              //此存储引擎为默认
     Comment: Supports transactions, row-level locking, and foreign keys
Transactions: YES
          XA: YES
  Savepoints: YES
*************************** 2. row ***************************
      Engine: MRG_MYISAM
     Support: YES
     Comment: Collection of identical MyISAM tables
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 3. row ***************************
      Engine: MEMORY
     Support: YES
     Comment: Hash based, stored in memory, useful for temporary tables
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 4. row ***************************
      Engine: BLACKHOLE
     Support: YES
     Comment: /dev/null storage engine (anything you write to it disappears)
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 5. row ***************************
      Engine: MyISAM
     Support: YES
     Comment: MyISAM storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 6. row ***************************
      Engine: CSV
     Support: YES
     Comment: CSV storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 7. row ***************************
      Engine: ARCHIVE
     Support: YES
     Comment: Archive storage engine
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 8. row ***************************
      Engine: PERFORMANCE_SCHEMA
     Support: YES
     Comment: Performance Schema
Transactions: NO
          XA: NO
  Savepoints: NO
*************************** 9. row ***************************
      Engine: FEDERATED
     Support: NO                             //此引擎不被支持
     Comment: Federated MySQL storage engine
Transactions: NULL
          XA: NULL
  Savepoints: NULL
9 rows in set (0.01 sec)
</pre></div></div>
      <p class="number">步骤二：查看默认存储类型</p>
      <p>查看系统变量default_storage_engine 的值，确认默认采用的存储引擎是InnoDB：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SHOW VARIABLES LIKE <span class="sh_string">'default_storage_engine'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+------------------------+--------+</span></li><li><span class="sh_symbol">|</span> Variable_name          <span class="sh_symbol">|</span> Value  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------------------------+--------+</span></li><li><span class="sh_symbol">|</span> default_storage_engine <span class="sh_symbol">|</span> InnoDB <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------------------------+--------+</span></li><li><span class="sh_number">1</span> row <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SHOW VARIABLES LIKE 'default_storage_engine';
+------------------------+--------+
| Variable_name          | Value  |
+------------------------+--------+
| default_storage_engine | InnoDB |
+------------------------+--------+
1 row in set (0.00 sec)
</pre></div></div>
      <p class="number">步骤三：修改默认存储引擎</p>
      <p>在 mysql&gt; 环境中，可以直接通过SET指令更改默认的存储引擎（只在本次连接会话过程中有效，退出重进即失效） 。比如临时修改为MyISAM，可执行下列操作：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SET default_storage_engine<span class="sh_symbol">=</span>MyISAM<span class="sh_symbol">;</span>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//改用MyISAM引擎</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">0</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li><li><span style="display:none;">&nbsp;</span></li><li>mysql<span class="sh_symbol">&gt;</span> SHOW VARIABLES LIKE <span class="sh_string">'default_storage_engine'</span><span class="sh_symbol">;</span>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//确认结果</span></li><li><span class="sh_symbol">+------------------------+--------+</span></li><li><span class="sh_symbol">|</span> Variable_name          <span class="sh_symbol">|</span> Value  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------------------------+--------+</span></li><li><span class="sh_symbol">|</span> default_storage_engine <span class="sh_symbol">|</span> MyISAM <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------------------------+--------+</span></li><li><span class="sh_number">1</span> row <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SET default_storage_engine=MyISAM;  			//改用MyISAM引擎
Query OK, 0 rows affected (0.00 sec)

mysql&gt; SHOW VARIABLES LIKE 'default_storage_engine';  		//确认结果
+------------------------+--------+
| Variable_name          | Value  |
+------------------------+--------+
| default_storage_engine | MyISAM |
+------------------------+--------+
1 row in set (0.00 sec)
</pre></div></div>
      <p>若希望直接修改MySQL服务程序所采用的默认存储引擎，应将相关设置写入配置文件/etc/my.cnf，并重启服务后生效。比如：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># <span class="sh_normal">vim </span><span class="sh_symbol">/</span><span class="sh_normal">etc</span><span class="sh_symbol">/</span>my<span class="sh_symbol">.</span>cnf</li><li><span class="sh_symbol">[</span>mysqld<span class="sh_symbol">]</span></li><li><span class="sh_symbol">..</span> <span class="sh_symbol">..</span></li><li>default_storage_engine<span class="sh_symbol">=</span>MEMORY  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//改用MEMORY引擎</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># systemctl  restart mysqld<span class="sh_symbol">.</span>service   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//重启服务</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@dbsvr1 ~]# vim /etc/my.cnf
[mysqld]
.. ..
default_storage_engine=MEMORY  							//改用MEMORY引擎

[root@dbsvr1 ~]# systemctl  restart mysqld.service   		//重启服务
</pre></div></div>
      <p>重新登入 mysql&gt; 确认修改结果：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># mysql <span class="sh_symbol">-</span>u root <span class="sh_symbol">-</span>p</li><li>Enter password<span class="sh_symbol">:</span> </li><li>Welcome to the MySQL monitor<span class="sh_symbol">.</span>  Commands end <span class="sh_keyword">with</span> <span class="sh_symbol">;</span> or <span class="sh_symbol">\</span>g<span class="sh_symbol">.</span></li><li>Your MySQL connection id is <span class="sh_number">3</span></li><li>Server version<span class="sh_symbol">:</span> <span class="sh_number">5.7.17</span> MySQL Community <span class="sh_function">Server</span> <span class="sh_symbol">(</span>GPL<span class="sh_symbol">)</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_function">Copyright</span> <span class="sh_symbol">(</span>c<span class="sh_symbol">)</span> <span class="sh_number">2000</span><span class="sh_symbol">,</span> <span class="sh_number">2016</span><span class="sh_symbol">,</span> Oracle <span class="sh_normal">and</span><span class="sh_symbol">/</span>or its affiliates<span class="sh_symbol">.</span> All rights reserved<span class="sh_symbol">.</span></li><li><span style="display:none;">&nbsp;</span></li><li>Oracle is a registered trademark of Oracle Corporation <span class="sh_normal">and</span><span class="sh_symbol">/</span>or its</li><li>affiliates<span class="sh_symbol">.</span> Other names may be trademarks of their respective</li><li>owners<span class="sh_symbol">.</span></li><li><span style="display:none;">&nbsp;</span></li><li>Type <span class="sh_string">'help;'</span> or <span class="sh_string">'</span><span class="sh_specialchar">\h</span><span class="sh_string">'</span> <span class="sh_keyword">for</span> help<span class="sh_symbol">.</span> Type <span class="sh_string">'</span><span class="sh_specialchar">\c</span><span class="sh_string">'</span> to clear the current input statement<span class="sh_symbol">.</span></li><li><span style="display:none;">&nbsp;</span></li><li><span style="display:none;">&nbsp;</span></li><li>mysql<span class="sh_symbol">&gt;</span> SHOW VARIABLES LIKE <span class="sh_string">'default_storage_engine'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+------------------------+--------+</span></li><li><span class="sh_symbol">|</span> Variable_name          <span class="sh_symbol">|</span> Value  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------------------------+--------+</span></li><li><span class="sh_symbol">|</span> default_storage_engine <span class="sh_symbol">|</span> MEMORY <span class="sh_symbol">|</span>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//默认引擎已修改</span></li><li><span class="sh_symbol">+------------------------+--------+</span></li><li><span class="sh_number">1</span> row <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li><li><span style="display:none;">&nbsp;</span></li><li>mysql<span class="sh_symbol">&gt;</span> exit</li><li>Bye</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@dbsvr1 ~]# mysql -u root -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 3
Server version: 5.7.17 MySQL Community Server (GPL)

Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.


mysql&gt; SHOW VARIABLES LIKE 'default_storage_engine';
+------------------------+--------+
| Variable_name          | Value  |
+------------------------+--------+
| default_storage_engine | MEMORY |  				//默认引擎已修改
+------------------------+--------+
1 row in set (0.00 sec)

mysql&gt; exit
Bye
</pre></div></div>
      <p class="number">步骤四：设置数据库服务默认使用的存储引擎</p>
      <p>为了避免后续实验障碍，测试完后记得恢复原状——移除默认引擎设置，或者将其修改为InnoDB即可：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># <span class="sh_normal">vim </span><span class="sh_symbol">/</span><span class="sh_normal">etc</span><span class="sh_symbol">/</span>my<span class="sh_symbol">.</span>cnf</li><li><span class="sh_symbol">[</span>mysqld<span class="sh_symbol">]</span></li><li><span class="sh_symbol">..</span> <span class="sh_symbol">..</span></li><li>default_storage_engine<span class="sh_symbol">=</span>InnoDB</li><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># systemctl  restart mysqld<span class="sh_symbol">.</span>service</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@dbsvr1 ~]# vim /etc/my.cnf
[mysqld]
.. ..
default_storage_engine=InnoDB
[root@dbsvr1 ~]# systemctl  restart mysqld.service
</pre></div></div>
      <p>确认恢复结果（选项 -e 可调用指定的SQL操作后返回Shell命令行）：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># mysql <span class="sh_symbol">-</span>u root <span class="sh_symbol">-</span>p <span class="sh_symbol">-</span>e <span class="sh_string">"SHOW VARIABLES LIKE 'default_storage_engine';"</span></li><li>Enter password<span class="sh_symbol">:</span></li><li><span class="sh_symbol">+------------------------+--------+</span></li><li><span class="sh_symbol">|</span> Variable_name          <span class="sh_symbol">|</span> Value  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------------------------+--------+</span></li><li><span class="sh_symbol">|</span> default_storage_engine <span class="sh_symbol">|</span> InnoDB <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------------------------+--------+</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@dbsvr1 ~]# mysql -u root -p -e "SHOW VARIABLES LIKE 'default_storage_engine';"
Enter password:
+------------------------+--------+
| Variable_name          | Value  |
+------------------------+--------+
| default_storage_engine | InnoDB |
+------------------------+--------+
</pre></div></div>
      <a name="case2">
      </a>
      <h2>2 数据导入/导出</h2>
      <h3>2.1 问题</h3>
      <p>使用SQL语句完成下列导出、导入操作：</p>
      <ol class="list">
        <li>将/etc/passwd文件导入userdb库user表并给每条记录加编号
</li>
        <li>将userdb库user表中UID小于100的前10条记录导出，存为/myload/user2.txt文件
</li>
      </ol>
      <h3>2.2 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：将/etc/passwd文件导入MySQL数据库</p>
      <p>导入后的表结构取决于/etc/passwd配置文件。若一时记不住各字段的含义，也可以查看passwd配置文件的man手册页，找到格式描述相关的说明，比如：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># man <span class="sh_number">5</span> passwd</li><li><span class="sh_symbol">..</span> <span class="sh_symbol">..</span></li><li>       Each line of the file describes a single user<span class="sh_symbol">,</span> and contains seven colon<span class="sh_symbol">-</span>sep‐</li><li>       arated fields<span class="sh_symbol">:</span></li><li><span style="display:none;">&nbsp;</span></li><li>              name<span class="sh_symbol">:</span>password<span class="sh_symbol">:</span>UID<span class="sh_symbol">:</span>GID<span class="sh_symbol">:</span>GECOS<span class="sh_symbol">:</span>directory<span class="sh_symbol">:</span>shell    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//各字段的顺序、大致用途</span></li><li><span style="display:none;">&nbsp;</span></li><li>The field are as follows<span class="sh_symbol">:</span>                        <span class="sh_comment">//以下详细解释各字段的作用</span></li><li><span style="display:none;">&nbsp;</span></li><li>       name        This is the user<span class="sh_string">'s login name.  It should  not  contain  capital</span></li><li><span class="sh_string">                   letters.</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_string">       password    This  is either the encrypted user password, an asterisk (*), or</span></li><li><span class="sh_string">                   the letter '</span>x<span class="sh_string">'.  (See pwconv(8) for an explanation of '</span>x<span class="sh_string">'.)</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_string">       UID         The privileged root login account (superuser) has the user ID 0.</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_string">       GID         This is the numeric primary group ID for this user.  (Additional</span></li><li><span class="sh_string">                   groups  for  the  user are defined in the system group file; see</span></li><li><span class="sh_string">                   group(5)).</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_string">GECOS  stands for "General Electric Comprehensive Operating Sys‐</span></li><li><span class="sh_string">                   tem", which was renamed to GCOS when GE'</span>s large systems division</li><li>                   was  sold to Honeywell<span class="sh_symbol">.</span>  Dennis Ritchie has reported<span class="sh_symbol">:</span> <span class="sh_string">"Sometimes</span></li><li><span class="sh_string">                   we sent printer output or batch jobs to the GCOS  machine.   The</span></li><li><span class="sh_string">                   gcos  field in the password file was a place to stash the infor‐</span></li><li><span class="sh_string">                   mation for the $IDENTcard.  Not elegant."</span></li><li><span style="display:none;">&nbsp;</span></li><li>       directory   This is the user<span class="sh_string">'s home directory: the initial  directory  where</span></li><li><span class="sh_string">                   the user is placed after logging in.  The value in this field is</span></li><li><span class="sh_string">                   used to set the HOME environment variable.</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_string">       shell       This is the program to run at login (if empty, use /bin/sh).  If</span></li><li><span class="sh_string">                   set  to  a  nonexistent  executable,  the user will be unable to</span></li><li><span class="sh_string">                   login through login(1).  The value in this field is used to  set</span></li><li><span class="sh_string">                   the SHELL environment variable.</span></li><li><span class="sh_string">                  .. ..</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@dbsvr1 ~]# man 5 passwd
.. ..
       Each line of the file describes a single user, and contains seven colon-sep‐
       arated fields:

              name:password:UID:GID:GECOS:directory:shell    												//各字段的顺序、大致用途

The field are as follows:                        //以下详细解释各字段的作用

       name        This is the user's login name.  It should  not  contain  capital
                   letters.

       password    This  is either the encrypted user password, an asterisk (*), or
                   the letter 'x'.  (See pwconv(8) for an explanation of 'x'.)

       UID         The privileged root login account (superuser) has the user ID 0.

       GID         This is the numeric primary group ID for this user.  (Additional
                   groups  for  the  user are defined in the system group file; see
                   group(5)).

GECOS  stands for "General Electric Comprehensive Operating Sys‐
                   tem", which was renamed to GCOS when GE's large systems division
                   was  sold to Honeywell.  Dennis Ritchie has reported: "Sometimes
                   we sent printer output or batch jobs to the GCOS  machine.   The
                   gcos  field in the password file was a place to stash the infor‐
                   mation for the $IDENTcard.  Not elegant."

       directory   This is the user's home directory: the initial  directory  where
                   the user is placed after logging in.  The value in this field is
                   used to set the HOME environment variable.

       shell       This is the program to run at login (if empty, use /bin/sh).  If
                   set  to  a  nonexistent  executable,  the user will be unable to
                   login through login(1).  The value in this field is used to  set
                   the SHELL environment variable.
                  .. ..
</pre></div></div>
      <p>1）新建userdb库、user表</p>
      <p>以数据库用户root登入MySQL服务：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># mysql <span class="sh_symbol">-</span>u root <span class="sh_symbol">-</span>p</li><li>Enter password<span class="sh_symbol">:</span></li><li>Welcome to the MySQL monitor<span class="sh_symbol">.</span>  Commands end <span class="sh_keyword">with</span> <span class="sh_symbol">;</span> or <span class="sh_symbol">\</span>g<span class="sh_symbol">.</span></li><li>Your MySQL connection id is <span class="sh_number">5</span></li><li>Server version<span class="sh_symbol">:</span> <span class="sh_number">5.7.17</span> MySQL Community <span class="sh_function">Server</span> <span class="sh_symbol">(</span>GPL<span class="sh_symbol">)</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_function">Copyright</span> <span class="sh_symbol">(</span>c<span class="sh_symbol">)</span> <span class="sh_number">2000</span><span class="sh_symbol">,</span> <span class="sh_number">2016</span><span class="sh_symbol">,</span> Oracle <span class="sh_normal">and</span><span class="sh_symbol">/</span>or its affiliates<span class="sh_symbol">.</span> All rights reserved<span class="sh_symbol">.</span></li><li><span style="display:none;">&nbsp;</span></li><li>Oracle is a registered trademark of Oracle Corporation <span class="sh_normal">and</span><span class="sh_symbol">/</span>or its</li><li>affiliates<span class="sh_symbol">.</span> Other names may be trademarks of their respective</li><li>owners<span class="sh_symbol">.</span></li><li><span style="display:none;">&nbsp;</span></li><li>Type <span class="sh_string">'help;'</span> or <span class="sh_string">'</span><span class="sh_specialchar">\h</span><span class="sh_string">'</span> <span class="sh_keyword">for</span> help<span class="sh_symbol">.</span> Type <span class="sh_string">'</span><span class="sh_specialchar">\c</span><span class="sh_string">'</span> to clear the current input statement<span class="sh_symbol">.</span></li><li><span style="display:none;">&nbsp;</span></li><li>mysql<span class="sh_symbol">&gt;</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@dbsvr1 ~]# mysql -u root -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 5
Server version: 5.7.17 MySQL Community Server (GPL)

Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt; 
</pre></div></div>
      <p>新建userdb库，切换到userdb库：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> CREATE DATABASE userdb<span class="sh_symbol">;</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">1</span> row <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li><li><span style="display:none;">&nbsp;</span></li><li>mysql<span class="sh_symbol">&gt;</span> USE userdb<span class="sh_symbol">;</span></li><li>Database changed</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; CREATE DATABASE userdb;
Query OK, 1 row affected (0.00 sec)

mysql&gt; USE userdb;
Database changed
</pre></div></div>
      <p>新建user表，字段设置及相关操作参考如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> CREATE TABLE <span class="sh_function">user</span><span class="sh_symbol">(</span></li><li>    <span class="sh_symbol">-&gt;</span> username <span class="sh_function">varchar</span><span class="sh_symbol">(</span><span class="sh_number">24</span><span class="sh_symbol">)</span> NOT NULL<span class="sh_symbol">,</span></li><li>    <span class="sh_symbol">-&gt;</span> password <span class="sh_function">varchar</span><span class="sh_symbol">(</span><span class="sh_number">48</span><span class="sh_symbol">)</span> DEFAULT <span class="sh_string">'x'</span><span class="sh_symbol">,</span></li><li>    <span class="sh_symbol">-&gt;</span> uid <span class="sh_function">int</span><span class="sh_symbol">(</span><span class="sh_number">5</span><span class="sh_symbol">)</span> NOT NULL<span class="sh_symbol">,</span></li><li>    <span class="sh_symbol">-&gt;</span> gid <span class="sh_function">int</span><span class="sh_symbol">(</span><span class="sh_number">5</span><span class="sh_symbol">)</span> NOT NULL<span class="sh_symbol">,</span></li><li>    <span class="sh_symbol">-&gt;</span> fullname <span class="sh_function">varchar</span><span class="sh_symbol">(</span><span class="sh_number">48</span><span class="sh_symbol">),</span></li><li>    <span class="sh_symbol">-&gt;</span> homedir <span class="sh_function">varchar</span><span class="sh_symbol">(</span><span class="sh_number">64</span><span class="sh_symbol">)</span> NOT NULL<span class="sh_symbol">,</span></li><li>    <span class="sh_symbol">-&gt;</span> shell <span class="sh_function">varchar</span><span class="sh_symbol">(</span><span class="sh_number">24</span><span class="sh_symbol">)</span> NOT NULL</li><li>    <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">);</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">0</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.70</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; CREATE TABLE user(
    -&gt; username varchar(24) NOT NULL,
    -&gt; password varchar(48) DEFAULT 'x',
    -&gt; uid int(5) NOT NULL,
    -&gt; gid int(5) NOT NULL,
    -&gt; fullname varchar(48),
    -&gt; homedir varchar(64) NOT NULL,
    -&gt; shell varchar(24) NOT NULL
    -&gt; );
Query OK, 0 rows affected (0.70 sec)
</pre></div></div>
      <p>确认user表的结构：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> DESC user<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+----------+-------------+------+-----+---------+-------+</span></li><li><span class="sh_symbol">|</span> Field    <span class="sh_symbol">|</span> Type        <span class="sh_symbol">|</span> Null <span class="sh_symbol">|</span> Key <span class="sh_symbol">|</span> Default <span class="sh_symbol">|</span> Extra <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----------+-------------+------+-----+---------+-------+</span></li><li><span class="sh_symbol">|</span> username <span class="sh_symbol">|</span> <span class="sh_function">varchar</span><span class="sh_symbol">(</span><span class="sh_number">24</span><span class="sh_symbol">)</span> <span class="sh_symbol">|</span> NO   <span class="sh_symbol">|</span>     <span class="sh_symbol">|</span> NULL    <span class="sh_symbol">|</span>       <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> password <span class="sh_symbol">|</span> <span class="sh_function">varchar</span><span class="sh_symbol">(</span><span class="sh_number">48</span><span class="sh_symbol">)</span> <span class="sh_symbol">|</span> YES  <span class="sh_symbol">|</span>     <span class="sh_symbol">|</span> x       <span class="sh_symbol">|</span>       <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> uid      <span class="sh_symbol">|</span> <span class="sh_function">int</span><span class="sh_symbol">(</span><span class="sh_number">5</span><span class="sh_symbol">)</span>      <span class="sh_symbol">|</span> NO   <span class="sh_symbol">|</span>     <span class="sh_symbol">|</span> NULL    <span class="sh_symbol">|</span>       <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> gid      <span class="sh_symbol">|</span> <span class="sh_function">int</span><span class="sh_symbol">(</span><span class="sh_number">5</span><span class="sh_symbol">)</span>      <span class="sh_symbol">|</span> NO   <span class="sh_symbol">|</span>     <span class="sh_symbol">|</span> NULL    <span class="sh_symbol">|</span>       <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> fullname <span class="sh_symbol">|</span> <span class="sh_function">varchar</span><span class="sh_symbol">(</span><span class="sh_number">48</span><span class="sh_symbol">)</span> <span class="sh_symbol">|</span> YES  <span class="sh_symbol">|</span>     <span class="sh_symbol">|</span> NULL    <span class="sh_symbol">|</span>       <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> homedir  <span class="sh_symbol">|</span> <span class="sh_function">varchar</span><span class="sh_symbol">(</span><span class="sh_number">64</span><span class="sh_symbol">)</span> <span class="sh_symbol">|</span> NO   <span class="sh_symbol">|</span>     <span class="sh_symbol">|</span> NULL    <span class="sh_symbol">|</span>       <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> shell    <span class="sh_symbol">|</span> <span class="sh_function">varchar</span><span class="sh_symbol">(</span><span class="sh_number">24</span><span class="sh_symbol">)</span> <span class="sh_symbol">|</span> NO   <span class="sh_symbol">|</span>     <span class="sh_symbol">|</span> NULL    <span class="sh_symbol">|</span>       <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----------+-------------+------+-----+---------+-------+</span></li><li><span class="sh_number">7</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.01</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; DESC user;
+----------+-------------+------+-----+---------+-------+
| Field    | Type        | Null | Key | Default | Extra |
+----------+-------------+------+-----+---------+-------+
| username | varchar(24) | NO   |     | NULL    |       |
| password | varchar(48) | YES  |     | x       |       |
| uid      | int(5)      | NO   |     | NULL    |       |
| gid      | int(5)      | NO   |     | NULL    |       |
| fullname | varchar(48) | YES  |     | NULL    |       |
| homedir  | varchar(64) | NO   |     | NULL    |       |
| shell    | varchar(24) | NO   |     | NULL    |       |
+----------+-------------+------+-----+---------+-------+
7 rows in set (0.01 sec)
</pre></div></div>
      <p>2）如果直接导入会报错。在MySQL 5.7.6版本之后，导入文件只能在secure_file_priv指定的文件夹下。执行show variables like '%secure%'命令显示文件目录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span>  LOAD DATA INFILE <span class="sh_string">'/etc/passwd'</span> INTO TABLE userlist FIELDS TERMINATED BY <span class="sh_string">':'</span><span class="sh_symbol">;</span></li><li>ERROR <span class="sh_number">1290</span> <span class="sh_symbol">(</span>HY000<span class="sh_symbol">):</span> The MySQL server is running <span class="sh_keyword">with</span> the <span class="sh_symbol">--</span>secure<span class="sh_symbol">-</span>file<span class="sh_symbol">-</span>priv option so it cannot execute <span class="sh_keyword">this</span> statement</li><li>mysql<span class="sh_symbol">&gt;</span> show variables like <span class="sh_string">'%secure%'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+--------------------------+-----------------------+</span></li><li><span class="sh_symbol">|</span> Variable_name            <span class="sh_symbol">|</span> Value                 <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+--------------------------+-----------------------+</span></li><li><span class="sh_symbol">|</span> require_secure_transport <span class="sh_symbol">|</span> OFF                   <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> secure_auth              <span class="sh_symbol">|</span> ON                    <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> secure_file_priv         <span class="sh_symbol">|</span> <span class="sh_regexp">/var/</span><span class="sh_normal">lib</span><span class="sh_symbol">/</span>mysql<span class="sh_symbol">-</span><span class="sh_normal">files</span><span class="sh_symbol">/</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+--------------------------+-----------------------+</span></li><li><span class="sh_number">3</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt;  LOAD DATA INFILE '/etc/passwd' INTO TABLE userlist FIELDS TERMINATED BY ':';
ERROR 1290 (HY000): The MySQL server is running with the --secure-file-priv option so it cannot execute this statement
mysql&gt; show variables like '%secure%';
+--------------------------+-----------------------+
| Variable_name            | Value                 |
+--------------------------+-----------------------+
| require_secure_transport | OFF                   |
| secure_auth              | ON                    |
| secure_file_priv         | /var/lib/mysql-files/ |
+--------------------------+-----------------------+
3 rows in set (0.00 sec)
</pre></div></div>
      <p>3）执行导入操作</p>
      <p>将/etc/passwd文件复制到/var/lib/mysql-files/目录下，</p>
      <p>读取/var/lib/mysql-files/passwd文件内容，以“:”为分隔，导入到user表中：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span>#<span class="sh_normal">cp </span><span class="sh_symbol">/</span><span class="sh_normal">etc</span><span class="sh_symbol">/</span><span class="sh_normal">passwd </span><span class="sh_symbol">/</span><span class="sh_keyword">var</span><span class="sh_regexp">/lib/m</span>ysql<span class="sh_symbol">-</span><span class="sh_normal">files</span><span class="sh_symbol">/</span></li><li>mysql<span class="sh_symbol">&gt;</span> LOAD DATA INFILE <span class="sh_string">'/var/lib/mysql-files/passwd'</span></li><li>    <span class="sh_symbol">-&gt;</span> INTO TABLE userlist</li><li>    <span class="sh_symbol">-&gt;</span> FIELDS TERMINATED BY <span class="sh_string">':'</span><span class="sh_symbol">;</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">39</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.11</span> sec<span class="sh_symbol">)</span></li><li>Records<span class="sh_symbol">:</span> <span class="sh_number">39</span>  Deleted<span class="sh_symbol">:</span> <span class="sh_number">0</span>  Skipped<span class="sh_symbol">:</span> <span class="sh_number">0</span>  Warnings<span class="sh_symbol">:</span> <span class="sh_number">0</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@dbsvr1 ~]#cp /etc/passwd /var/lib/mysql-files/
mysql&gt; LOAD DATA INFILE '/var/lib/mysql-files/passwd'
    -&gt; INTO TABLE userlist
    -&gt; FIELDS TERMINATED BY ':';
Query OK, 39 rows affected (0.11 sec)
Records: 39  Deleted: 0  Skipped: 0  Warnings: 0
</pre></div></div>
      <p>上述操作中省略了行分隔 LINES TERMINATED BY '\n'，因为这是默认的情况（每行一条原始记录），除非需要以其他字符分割行，才需要用到这个。比如，以下操作指定了行分隔为'\n'，将/var/lib/mysql-files/passwd文件的内容导入另一个表user2，最终user2表的内容与user的内容是一样的：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap" style="display: none;"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="hide sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> CREATE TABLE user2  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//参照user表结构建立新表</span></li><li>    <span class="sh_symbol">-&gt;</span> SELECT <span class="sh_symbol">*</span> FROM user WHERE FALSE<span class="sh_symbol">;</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">0</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.48</span> sec<span class="sh_symbol">)</span></li><li>Records<span class="sh_symbol">:</span> <span class="sh_number">0</span>  Duplicates<span class="sh_symbol">:</span> <span class="sh_number">0</span>  Warnings<span class="sh_symbol">:</span> <span class="sh_number">0</span></li><li><span style="display:none;">&nbsp;</span></li><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM user2<span class="sh_symbol">;</span>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//确认新表user2无任何记录</span></li><li>Empty <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li><li><span style="display:none;">&nbsp;</span></li><li>mysql<span class="sh_symbol">&gt;</span> LOAD DATA INFILE <span class="sh_string">'/var/lib/mysql-files/passwd'</span>  <span class="sh_comment">//导入时指定行分隔</span></li><li>    <span class="sh_symbol">-&gt;</span> INTO TABLE user2</li><li>    <span class="sh_symbol">-&gt;</span> FIELDS TERMINATED BY <span class="sh_string">':'</span></li><li>    <span class="sh_symbol">-&gt;</span> LINES TERMINATED BY <span class="sh_string">'</span><span class="sh_specialchar">\n</span><span class="sh_string">'</span><span class="sh_symbol">;</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">39</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.05</span> sec<span class="sh_symbol">)</span></li><li>Records<span class="sh_symbol">:</span> <span class="sh_number">39</span>  Deleted<span class="sh_symbol">:</span> <span class="sh_number">0</span>  Skipped<span class="sh_symbol">:</span> <span class="sh_number">0</span>  Warnings<span class="sh_symbol">:</span> <span class="sh_number">0</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; CREATE TABLE user2  				//参照user表结构建立新表
    -&gt; SELECT * FROM user WHERE FALSE;
Query OK, 0 rows affected (0.48 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql&gt; SELECT * FROM user2;  			//确认新表user2无任何记录
Empty set (0.00 sec)

mysql&gt; LOAD DATA INFILE '/var/lib/mysql-files/passwd'  //导入时指定行分隔
    -&gt; INTO TABLE user2
    -&gt; FIELDS TERMINATED BY ':'
    -&gt; LINES TERMINATED BY '\n';
Query OK, 39 rows affected (0.05 sec)
Records: 39  Deleted: 0  Skipped: 0  Warnings: 0
</pre><div class="sh_sourceCode snippet-hide"><pre><a href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" class="snippet-revealed snippet-toggle sh_url">隐藏</a></pre></div></div><div class="snippet-reveal sh_acid snippet-wrap"><pre class="sh_sourceCode"><a href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" class="snippet-toggle sh_url">代码</a></pre></div></div>
      <p>4）确认导入结果</p>
      <p>分别统计user、user2表内的记录个数：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_function">COUNT</span><span class="sh_symbol">(*)</span> FROM user<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+----------+</span></li><li><span class="sh_symbol">|</span> <span class="sh_function">COUNT</span><span class="sh_symbol">(*)</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----------+</span></li><li><span class="sh_symbol">|</span>       <span class="sh_number">39</span> <span class="sh_symbol">|</span>                          <span class="sh_comment">//user表有39条记录</span></li><li><span class="sh_symbol">+----------+</span></li><li><span class="sh_number">1</span> row <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li><li><span style="display:none;">&nbsp;</span></li><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_function">COUNT</span><span class="sh_symbol">(*)</span> FROM user2<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+----------+</span></li><li><span class="sh_symbol">|</span> <span class="sh_function">COUNT</span><span class="sh_symbol">(*)</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----------+</span></li><li><span class="sh_symbol">|</span>       <span class="sh_number">39</span> <span class="sh_symbol">|</span>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//user2表也有39条记录</span></li><li><span class="sh_symbol">+----------+</span></li><li><span class="sh_number">1</span> row <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT COUNT(*) FROM user;
+----------+
| COUNT(*) |
+----------+
|       39 |                          //user表有39条记录
+----------+
1 row in set (0.00 sec)

mysql&gt; SELECT COUNT(*) FROM user2;
+----------+
| COUNT(*) |
+----------+
|       39 |  								//user2表也有39条记录
+----------+
1 row in set (0.00 sec)
</pre></div></div>
      <p>查看user表的前10条记录，列出用户名、UID、GID、宿主目录、登录Shell：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT username<span class="sh_symbol">,</span>uid<span class="sh_symbol">,</span>gid<span class="sh_symbol">,</span>homedir<span class="sh_symbol">,</span>shell</li><li>    <span class="sh_symbol">-&gt;</span> FROM user LIMIT <span class="sh_number">10</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+----------+-----+-----+-----------------+----------------+</span></li><li><span class="sh_symbol">|</span> username <span class="sh_symbol">|</span> uid <span class="sh_symbol">|</span> gid <span class="sh_symbol">|</span> homedir         <span class="sh_symbol">|</span> shell          <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----------+-----+-----+-----------------+----------------+</span></li><li><span class="sh_symbol">|</span> root     <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/root           | /</span><span class="sh_normal">bin</span><span class="sh_symbol">/</span>bash      <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> bin      <span class="sh_symbol">|</span>   <span class="sh_number">1</span> <span class="sh_symbol">|</span>   <span class="sh_number">1</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/bin            | /</span><span class="sh_normal">sbin</span><span class="sh_symbol">/</span>nologin  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> daemon   <span class="sh_symbol">|</span>   <span class="sh_number">2</span> <span class="sh_symbol">|</span>   <span class="sh_number">2</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/sbin           | /</span><span class="sh_normal">sbin</span><span class="sh_symbol">/</span>nologin  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> adm      <span class="sh_symbol">|</span>   <span class="sh_number">3</span> <span class="sh_symbol">|</span>   <span class="sh_number">4</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/var/</span>adm        <span class="sh_symbol">|</span> <span class="sh_regexp">/sbin/</span>nologin  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> lp       <span class="sh_symbol">|</span>   <span class="sh_number">4</span> <span class="sh_symbol">|</span>   <span class="sh_number">7</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/var/</span><span class="sh_normal">spool</span><span class="sh_symbol">/</span>lpd  <span class="sh_symbol">|</span> <span class="sh_regexp">/sbin/</span>nologin  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> sync     <span class="sh_symbol">|</span>   <span class="sh_number">5</span> <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/sbin           | /</span><span class="sh_normal">bin</span><span class="sh_symbol">/</span>sync      <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> shutdown <span class="sh_symbol">|</span>   <span class="sh_number">6</span> <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/sbin           | /</span><span class="sh_normal">sbin</span><span class="sh_symbol">/</span>shutdown <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> halt     <span class="sh_symbol">|</span>   <span class="sh_number">7</span> <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/sbin           | /</span><span class="sh_normal">sbin</span><span class="sh_symbol">/</span>halt     <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> mail     <span class="sh_symbol">|</span>   <span class="sh_number">8</span> <span class="sh_symbol">|</span>  <span class="sh_number">12</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/var/</span><span class="sh_normal">spool</span><span class="sh_symbol">/</span>mail <span class="sh_symbol">|</span> <span class="sh_regexp">/sbin/</span>nologin  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> operator <span class="sh_symbol">|</span>  <span class="sh_number">11</span> <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/root           | /</span><span class="sh_normal">sbin</span><span class="sh_symbol">/</span>nologin  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----------+-----+-----+-----------------+----------------+</span></li><li><span class="sh_number">10</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT username,uid,gid,homedir,shell
    -&gt; FROM user LIMIT 10;
+----------+-----+-----+-----------------+----------------+
| username | uid | gid | homedir         | shell          |
+----------+-----+-----+-----------------+----------------+
| root     |   0 |   0 | /root           | /bin/bash      |
| bin      |   1 |   1 | /bin            | /sbin/nologin  |
| daemon   |   2 |   2 | /sbin           | /sbin/nologin  |
| adm      |   3 |   4 | /var/adm        | /sbin/nologin  |
| lp       |   4 |   7 | /var/spool/lpd  | /sbin/nologin  |
| sync     |   5 |   0 | /sbin           | /bin/sync      |
| shutdown |   6 |   0 | /sbin           | /sbin/shutdown |
| halt     |   7 |   0 | /sbin           | /sbin/halt     |
| mail     |   8 |  12 | /var/spool/mail | /sbin/nologin  |
| operator |  11 |   0 | /root           | /sbin/nologin  |
+----------+-----+-----+-----------------+----------------+
10 rows in set (0.00 sec)
</pre></div></div>
      <p>查看user2表的前10条记录，同样列出用户名、UID、GID、宿主目录、登录Shell：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT username<span class="sh_symbol">,</span>uid<span class="sh_symbol">,</span>gid<span class="sh_symbol">,</span>homedir<span class="sh_symbol">,</span>shell</li><li>    <span class="sh_symbol">-&gt;</span> FROM user2 LIMIT <span class="sh_number">10</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+----------+-----+-----+-----------------+----------------+</span></li><li><span class="sh_symbol">|</span> username <span class="sh_symbol">|</span> uid <span class="sh_symbol">|</span> gid <span class="sh_symbol">|</span> homedir         <span class="sh_symbol">|</span> shell          <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----------+-----+-----+-----------------+----------------+</span></li><li><span class="sh_symbol">|</span> root     <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/root           | /</span><span class="sh_normal">bin</span><span class="sh_symbol">/</span>bash      <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> bin      <span class="sh_symbol">|</span>   <span class="sh_number">1</span> <span class="sh_symbol">|</span>   <span class="sh_number">1</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/bin            | /</span><span class="sh_normal">sbin</span><span class="sh_symbol">/</span>nologin  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> daemon   <span class="sh_symbol">|</span>   <span class="sh_number">2</span> <span class="sh_symbol">|</span>   <span class="sh_number">2</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/sbin           | /</span><span class="sh_normal">sbin</span><span class="sh_symbol">/</span>nologin  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> adm      <span class="sh_symbol">|</span>   <span class="sh_number">3</span> <span class="sh_symbol">|</span>   <span class="sh_number">4</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/var/</span>adm        <span class="sh_symbol">|</span> <span class="sh_regexp">/sbin/</span>nologin  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> lp       <span class="sh_symbol">|</span>   <span class="sh_number">4</span> <span class="sh_symbol">|</span>   <span class="sh_number">7</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/var/</span><span class="sh_normal">spool</span><span class="sh_symbol">/</span>lpd  <span class="sh_symbol">|</span> <span class="sh_regexp">/sbin/</span>nologin  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> sync     <span class="sh_symbol">|</span>   <span class="sh_number">5</span> <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/sbin           | /</span><span class="sh_normal">bin</span><span class="sh_symbol">/</span>sync      <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> shutdown <span class="sh_symbol">|</span>   <span class="sh_number">6</span> <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/sbin           | /</span><span class="sh_normal">sbin</span><span class="sh_symbol">/</span>shutdown <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> halt     <span class="sh_symbol">|</span>   <span class="sh_number">7</span> <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/sbin           | /</span><span class="sh_normal">sbin</span><span class="sh_symbol">/</span>halt     <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> mail     <span class="sh_symbol">|</span>   <span class="sh_number">8</span> <span class="sh_symbol">|</span>  <span class="sh_number">12</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/var/</span><span class="sh_normal">spool</span><span class="sh_symbol">/</span>mail <span class="sh_symbol">|</span> <span class="sh_regexp">/sbin/</span>nologin  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> operator <span class="sh_symbol">|</span>  <span class="sh_number">11</span> <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/root           | /</span><span class="sh_normal">sbin</span><span class="sh_symbol">/</span>nologin  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----------+-----+-----+-----------------+----------------+</span></li><li><span class="sh_number">10</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT username,uid,gid,homedir,shell
    -&gt; FROM user2 LIMIT 10;
+----------+-----+-----+-----------------+----------------+
| username | uid | gid | homedir         | shell          |
+----------+-----+-----+-----------------+----------------+
| root     |   0 |   0 | /root           | /bin/bash      |
| bin      |   1 |   1 | /bin            | /sbin/nologin  |
| daemon   |   2 |   2 | /sbin           | /sbin/nologin  |
| adm      |   3 |   4 | /var/adm        | /sbin/nologin  |
| lp       |   4 |   7 | /var/spool/lpd  | /sbin/nologin  |
| sync     |   5 |   0 | /sbin           | /bin/sync      |
| shutdown |   6 |   0 | /sbin           | /sbin/shutdown |
| halt     |   7 |   0 | /sbin           | /sbin/halt     |
| mail     |   8 |  12 | /var/spool/mail | /sbin/nologin  |
| operator |  11 |   0 | /root           | /sbin/nologin  |
+----------+-----+-----+-----------------+----------------+
10 rows in set (0.00 sec)
</pre></div></div>
      <p class="number">步骤二：为user表中的每条记录添加自动编号</p>
      <p>这个只要修改user表结构，添加一个自增字段即可。</p>
      <p>比如，添加一个名为sn的序号列，作为user表的第一个字段：</p>
      <p>1）添加自增主键字段sn</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> ALTER TABLE user</li><li>    <span class="sh_symbol">-&gt;</span> ADD sn <span class="sh_function">int</span><span class="sh_symbol">(</span><span class="sh_number">4</span><span class="sh_symbol">)</span> AUTO_INCREMENT PRIMARY KEY FIRST<span class="sh_symbol">;</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">0</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.62</span> sec<span class="sh_symbol">)</span></li><li>Records<span class="sh_symbol">:</span> <span class="sh_number">0</span>  Duplicates<span class="sh_symbol">:</span> <span class="sh_number">0</span>  Warnings<span class="sh_symbol">:</span> <span class="sh_number">0</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; ALTER TABLE user
    -&gt; ADD sn int(4) AUTO_INCREMENT PRIMARY KEY FIRST;
Query OK, 0 rows affected (0.62 sec)
Records: 0  Duplicates: 0  Warnings: 0
</pre></div></div>
      <p>2）验证自动编号结果</p>
      <p>查看user表的前10条记录，列出序号、用户名、UID、GID、宿主目录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT sn<span class="sh_symbol">,</span>username<span class="sh_symbol">,</span>uid<span class="sh_symbol">,</span>gid<span class="sh_symbol">,</span>homedir</li><li>    <span class="sh_symbol">-&gt;</span> FROM user LIMIT <span class="sh_number">10</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+----+----------+-----+-----+-----------------+</span></li><li><span class="sh_symbol">|</span> sn <span class="sh_symbol">|</span> username <span class="sh_symbol">|</span> uid <span class="sh_symbol">|</span> gid <span class="sh_symbol">|</span> homedir         <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----+----------+-----+-----+-----------------+</span></li><li><span class="sh_symbol">|</span>  <span class="sh_number">1</span> <span class="sh_symbol">|</span> root     <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span> <span class="sh_symbol">/</span>root           <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span>  <span class="sh_number">2</span> <span class="sh_symbol">|</span> bin      <span class="sh_symbol">|</span>   <span class="sh_number">1</span> <span class="sh_symbol">|</span>   <span class="sh_number">1</span> <span class="sh_symbol">|</span> <span class="sh_symbol">/</span>bin            <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span>  <span class="sh_number">3</span> <span class="sh_symbol">|</span> daemon   <span class="sh_symbol">|</span>   <span class="sh_number">2</span> <span class="sh_symbol">|</span>   <span class="sh_number">2</span> <span class="sh_symbol">|</span> <span class="sh_symbol">/</span>sbin           <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span>  <span class="sh_number">4</span> <span class="sh_symbol">|</span> adm      <span class="sh_symbol">|</span>   <span class="sh_number">3</span> <span class="sh_symbol">|</span>   <span class="sh_number">4</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/var/</span>adm        <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span>  <span class="sh_number">5</span> <span class="sh_symbol">|</span> lp       <span class="sh_symbol">|</span>   <span class="sh_number">4</span> <span class="sh_symbol">|</span>   <span class="sh_number">7</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/var/</span><span class="sh_normal">spool</span><span class="sh_symbol">/</span>lpd  <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span>  <span class="sh_number">6</span> <span class="sh_symbol">|</span> sync     <span class="sh_symbol">|</span>   <span class="sh_number">5</span> <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span> <span class="sh_symbol">/</span>sbin           <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span>  <span class="sh_number">7</span> <span class="sh_symbol">|</span> shutdown <span class="sh_symbol">|</span>   <span class="sh_number">6</span> <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span> <span class="sh_symbol">/</span>sbin           <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span>  <span class="sh_number">8</span> <span class="sh_symbol">|</span> halt     <span class="sh_symbol">|</span>   <span class="sh_number">7</span> <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span> <span class="sh_symbol">/</span>sbin           <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span>  <span class="sh_number">9</span> <span class="sh_symbol">|</span> mail     <span class="sh_symbol">|</span>   <span class="sh_number">8</span> <span class="sh_symbol">|</span>  <span class="sh_number">12</span> <span class="sh_symbol">|</span> <span class="sh_regexp">/var/</span><span class="sh_normal">spool</span><span class="sh_symbol">/</span>mail <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> <span class="sh_number">10</span> <span class="sh_symbol">|</span> operator <span class="sh_symbol">|</span>  <span class="sh_number">11</span> <span class="sh_symbol">|</span>   <span class="sh_number">0</span> <span class="sh_symbol">|</span> <span class="sh_symbol">/</span>root           <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----+----------+-----+-----+-----------------+</span></li><li><span class="sh_number">10</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT sn,username,uid,gid,homedir
    -&gt; FROM user LIMIT 10;
+----+----------+-----+-----+-----------------+
| sn | username | uid | gid | homedir         |
+----+----------+-----+-----+-----------------+
|  1 | root     |   0 |   0 | /root           |
|  2 | bin      |   1 |   1 | /bin            |
|  3 | daemon   |   2 |   2 | /sbin           |
|  4 | adm      |   3 |   4 | /var/adm        |
|  5 | lp       |   4 |   7 | /var/spool/lpd  |
|  6 | sync     |   5 |   0 | /sbin           |
|  7 | shutdown |   6 |   0 | /sbin           |
|  8 | halt     |   7 |   0 | /sbin           |
|  9 | mail     |   8 |  12 | /var/spool/mail |
| 10 | operator |  11 |   0 | /root           |
+----+----------+-----+-----+-----------------+
10 rows in set (0.00 sec)
</pre></div></div>
      <p class="number">步骤三：从MySQL数据库中导出查询结果</p>
      <p>以将userdb库user表中UID小于100的前10条记录导出为/myload/user2.txt文件为例。</p>
      <p>1）确认存放导出数据的文件夹</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># ls <span class="sh_symbol">-</span><span class="sh_normal">ld </span><span class="sh_symbol">/</span><span class="sh_keyword">var</span><span class="sh_regexp">/lib/m</span>ysql<span class="sh_symbol">-</span><span class="sh_normal">files</span><span class="sh_symbol">/</span>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</li><li>drwxr<span class="sh_symbol">-</span>x<span class="sh_symbol">---.</span> <span class="sh_number">2</span> mysql mysql <span class="sh_number">19</span> <span class="sh_number">4</span>月   <span class="sh_number">7</span> <span class="sh_number">11</span><span class="sh_symbol">:</span><span class="sh_number">15</span><span class="sh_normal"> </span><span class="sh_symbol">/</span><span class="sh_keyword">var</span><span class="sh_regexp">/lib/m</span>ysql<span class="sh_symbol">-</span><span class="sh_normal">files</span><span class="sh_symbol">/</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@dbsvr1 ~]# ls -ld /var/lib/mysql-files/  				
drwxr-x---. 2 mysql mysql 19 4月   7 11:15 /var/lib/mysql-files/
</pre></div></div>
      <p>2）修改目录及查看修改结果</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># <span class="sh_normal">mkdir  </span><span class="sh_symbol">/</span>myload  <span class="sh_symbol">;</span>  chown  <span class="sh_normal">mysql  </span><span class="sh_symbol">/</span>myload </li><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># <span class="sh_normal">vim  </span><span class="sh_symbol">/</span><span class="sh_normal">etc</span><span class="sh_symbol">/</span>my<span class="sh_symbol">.</span>cnf </li><li><span class="sh_symbol">[</span>mysqld<span class="sh_symbol">]</span></li><li>secure_file_priv<span class="sh_symbol">=</span><span class="sh_string">"/myload"</span></li><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># systemctl  restart mysqld </li><li>mysql<span class="sh_symbol">&gt;</span> show variables like <span class="sh_string">"secure_file_priv"</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+------------------+----------+</span></li><li><span class="sh_symbol">|</span> Variable_name    <span class="sh_symbol">|</span> Value       <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------------------+----------+</span></li><li><span class="sh_symbol">|</span> secure_file_priv   <span class="sh_symbol">|</span> <span class="sh_regexp">/myload/</span> <span class="sh_symbol">|</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@dbsvr1 ~]# mkdir  /myload  ;  chown  mysql  /myload 
[root@dbsvr1 ~]# vim  /etc/my.cnf 
[mysqld]
secure_file_priv="/myload"
[root@dbsvr1 ~]# systemctl  restart mysqld 
mysql&gt; show variables like "secure_file_priv";
+------------------+----------+
| Variable_name    | Value       |
+------------------+----------+
| secure_file_priv   | /myload/ |

</pre></div></div>
      <p>2）导出user表中UID小于100的前10条记录</p>
      <p>如果以默认的'\n' 为行分隔，导出操作同样可不指定LINES TERMINATED BY：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM userdb<span class="sh_symbol">.</span>user WHERE uid<span class="sh_symbol">&lt;</span><span class="sh_number">100</span></li><li>    <span class="sh_symbol">-&gt;</span> INTO OUTFILE <span class="sh_string">'/myload/user2.txt'</span></li><li>    <span class="sh_symbol">-&gt;</span> FIELDS TERMINATED BY <span class="sh_string">':'</span><span class="sh_symbol">;</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">24</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM userdb.user WHERE uid&lt;100
    -&gt; INTO OUTFILE '/myload/user2.txt'
    -&gt; FIELDS TERMINATED BY ':';
Query OK, 24 rows affected (0.00 sec)
</pre></div></div>
      <p>3）确认导出结果</p>
      <p>返回到Shell命令行，查看/myload/user2.txt文件的行数：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># wc <span class="sh_symbol">-</span><span class="sh_normal">l </span><span class="sh_symbol">/</span><span class="sh_normal">myload</span><span class="sh_symbol">/</span>user2<span class="sh_symbol">.</span>txt </li><li><span class="sh_number">24</span><span class="sh_normal">  </span><span class="sh_symbol">/</span><span class="sh_normal">myload</span><span class="sh_symbol">/</span>user2<span class="sh_symbol">.</span>txt</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@dbsvr1 ~]# wc -l /myload/user2.txt 
24  /myload/user2.txt
</pre></div></div>
      <p>查看/myload/user2.txt文件的最后10行内容：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># <span class="sh_normal">tail </span><span class="sh_symbol">/</span><span class="sh_normal">myload</span><span class="sh_symbol">/</span>user2<span class="sh_symbol">.</span>txt</li><li><span class="sh_number">19</span><span class="sh_symbol">:</span>avahi<span class="sh_symbol">:</span>x<span class="sh_symbol">:</span><span class="sh_number">70</span><span class="sh_symbol">:</span><span class="sh_number">70</span><span class="sh_symbol">:</span>Avahi <span class="sh_normal">mDNS</span><span class="sh_symbol">/</span>DNS<span class="sh_symbol">-</span>SD Stack<span class="sh_symbol">:</span><span class="sh_regexp">/var/</span><span class="sh_normal">run</span><span class="sh_symbol">/</span>avahi<span class="sh_symbol">-</span>daemon<span class="sh_symbol">:</span><span class="sh_regexp">/sbin/</span>nologin</li><li><span class="sh_number">24</span><span class="sh_symbol">:</span>rpc<span class="sh_symbol">:</span>x<span class="sh_symbol">:</span><span class="sh_number">32</span><span class="sh_symbol">:</span><span class="sh_number">32</span><span class="sh_symbol">:</span>Rpcbind Daemon<span class="sh_symbol">:</span><span class="sh_regexp">/var/</span><span class="sh_normal">lib</span><span class="sh_symbol">/</span>rpcbind<span class="sh_symbol">:</span><span class="sh_regexp">/sbin/</span>nologin</li><li><span class="sh_number">25</span><span class="sh_symbol">:</span>rpcuser<span class="sh_symbol">:</span>x<span class="sh_symbol">:</span><span class="sh_number">29</span><span class="sh_symbol">:</span><span class="sh_number">29</span><span class="sh_symbol">:</span>RPC Service User<span class="sh_symbol">:</span><span class="sh_regexp">/var/</span><span class="sh_normal">lib</span><span class="sh_symbol">/</span>nfs<span class="sh_symbol">:</span><span class="sh_regexp">/sbin/</span>nologin</li><li><span class="sh_number">28</span><span class="sh_symbol">:</span>radvd<span class="sh_symbol">:</span>x<span class="sh_symbol">:</span><span class="sh_number">75</span><span class="sh_symbol">:</span><span class="sh_number">75</span><span class="sh_symbol">:</span>radvd user<span class="sh_symbol">:</span><span class="sh_regexp">/:/</span><span class="sh_normal">sbin</span><span class="sh_symbol">/</span>nologin</li><li><span class="sh_number">29</span><span class="sh_symbol">:</span>ntp<span class="sh_symbol">:</span>x<span class="sh_symbol">:</span><span class="sh_number">38</span><span class="sh_symbol">:</span><span class="sh_number">38</span><span class="sh_symbol">::</span><span class="sh_regexp">/etc/</span>ntp<span class="sh_symbol">:</span><span class="sh_regexp">/sbin/</span>nologin</li><li><span class="sh_number">33</span><span class="sh_symbol">:</span>gdm<span class="sh_symbol">:</span>x<span class="sh_symbol">:</span><span class="sh_number">42</span><span class="sh_symbol">:</span><span class="sh_number">42</span><span class="sh_symbol">::</span><span class="sh_regexp">/var/</span><span class="sh_normal">lib</span><span class="sh_symbol">/</span>gdm<span class="sh_symbol">:</span><span class="sh_regexp">/sbin/</span>nologin</li><li><span class="sh_number">35</span><span class="sh_symbol">:</span>postfix<span class="sh_symbol">:</span>x<span class="sh_symbol">:</span><span class="sh_number">89</span><span class="sh_symbol">:</span><span class="sh_number">89</span><span class="sh_symbol">::</span><span class="sh_regexp">/var/</span><span class="sh_normal">spool</span><span class="sh_symbol">/</span>postfix<span class="sh_symbol">:</span><span class="sh_regexp">/sbin/</span>nologin</li><li><span class="sh_number">36</span><span class="sh_symbol">:</span>sshd<span class="sh_symbol">:</span>x<span class="sh_symbol">:</span><span class="sh_number">74</span><span class="sh_symbol">:</span><span class="sh_number">74</span><span class="sh_symbol">:</span>Privilege<span class="sh_symbol">-</span>separated SSH<span class="sh_symbol">:</span><span class="sh_regexp">/var/</span><span class="sh_normal">empty</span><span class="sh_symbol">/</span>sshd<span class="sh_symbol">:</span><span class="sh_regexp">/sbin/</span>nologin</li><li><span class="sh_number">37</span><span class="sh_symbol">:</span>tcpdump<span class="sh_symbol">:</span>x<span class="sh_symbol">:</span><span class="sh_number">72</span><span class="sh_symbol">:</span><span class="sh_number">72</span><span class="sh_symbol">::</span><span class="sh_regexp">/:/</span><span class="sh_normal">sbin</span><span class="sh_symbol">/</span>nologin</li><li><span class="sh_number">39</span><span class="sh_symbol">:</span>mysql<span class="sh_symbol">:</span>x<span class="sh_symbol">:</span><span class="sh_number">27</span><span class="sh_symbol">:</span><span class="sh_number">27</span><span class="sh_symbol">:</span>MySQL Server<span class="sh_symbol">:</span><span class="sh_regexp">/var/</span><span class="sh_normal">lib</span><span class="sh_symbol">/</span>mysql<span class="sh_symbol">:</span><span class="sh_regexp">/bin/</span><span class="sh_keyword">false</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@dbsvr1 ~]# tail /myload/user2.txt
19:avahi:x:70:70:Avahi mDNS/DNS-SD Stack:/var/run/avahi-daemon:/sbin/nologin
24:rpc:x:32:32:Rpcbind Daemon:/var/lib/rpcbind:/sbin/nologin
25:rpcuser:x:29:29:RPC Service User:/var/lib/nfs:/sbin/nologin
28:radvd:x:75:75:radvd user:/:/sbin/nologin
29:ntp:x:38:38::/etc/ntp:/sbin/nologin
33:gdm:x:42:42::/var/lib/gdm:/sbin/nologin
35:postfix:x:89:89::/var/spool/postfix:/sbin/nologin
36:sshd:x:74:74:Privilege-separated SSH:/var/empty/sshd:/sbin/nologin
37:tcpdump:x:72:72::/:/sbin/nologin
39:mysql:x:27:27:MySQL Server:/var/lib/mysql:/bin/false
</pre></div></div>
      <a name="case3">
      </a>
      <h2>3 操作表记录</h2>
      <h3>3.1 问题</h3>
      <p>练习表记录的操作</p>
      <ol class="list">
        <li>表记录的插入
</li>
        <li>表记录的更新
</li>
        <li>表记录的查询
</li>
        <li>表记录的删除	
</li>
      </ol>
      <h3>3.2 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：创建stu_info表，并确保stu_info表记录为空。</p>
      <p class="number">在userdb库中创建stu_info表：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># mysql <span class="sh_symbol">-</span>uroot <span class="sh_symbol">-</span>p</li><li>Enter password<span class="sh_symbol">:</span> </li><li>Welcome to the MySQL monitor<span class="sh_symbol">.</span>  Commands end <span class="sh_keyword">with</span> <span class="sh_symbol">;</span> or <span class="sh_symbol">\</span>g<span class="sh_symbol">.</span></li><li>Your MySQL connection id is <span class="sh_number">19</span></li><li>Server version<span class="sh_symbol">:</span> <span class="sh_number">5.7.17</span> MySQL Community <span class="sh_function">Server</span> <span class="sh_symbol">(</span>GPL<span class="sh_symbol">)</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_function">Copyright</span> <span class="sh_symbol">(</span>c<span class="sh_symbol">)</span> <span class="sh_number">2000</span><span class="sh_symbol">,</span> <span class="sh_number">2016</span><span class="sh_symbol">,</span> Oracle <span class="sh_normal">and</span><span class="sh_symbol">/</span>or its affiliates<span class="sh_symbol">.</span> All rights reserved<span class="sh_symbol">.</span></li><li><span style="display:none;">&nbsp;</span></li><li>Oracle is a registered trademark of Oracle Corporation <span class="sh_normal">and</span><span class="sh_symbol">/</span>or its</li><li>affiliates<span class="sh_symbol">.</span> Other names may be trademarks of their respective</li><li>owners<span class="sh_symbol">.</span></li><li><span style="display:none;">&nbsp;</span></li><li>Type <span class="sh_string">'help;'</span> or <span class="sh_string">'</span><span class="sh_specialchar">\h</span><span class="sh_string">'</span> <span class="sh_keyword">for</span> help<span class="sh_symbol">.</span> Type <span class="sh_string">'</span><span class="sh_specialchar">\c</span><span class="sh_string">'</span> to clear the current input statement<span class="sh_symbol">.</span></li><li><span style="display:none;">&nbsp;</span></li><li>mysql<span class="sh_symbol">&gt;</span> use userdb<span class="sh_symbol">;</span></li><li>Reading table information <span class="sh_keyword">for</span> completion of table and column names</li><li>You can turn off <span class="sh_keyword">this</span> feature to get a quicker startup <span class="sh_keyword">with</span> <span class="sh_symbol">-</span>A</li><li><span style="display:none;">&nbsp;</span></li><li>Database changed</li><li>mysql<span class="sh_symbol">&gt;</span> CREATE TABLE <span class="sh_function">stu_info</span><span class="sh_symbol">(</span></li><li>    <span class="sh_symbol">-&gt;</span> name <span class="sh_function">varchar</span><span class="sh_symbol">(</span><span class="sh_number">12</span><span class="sh_symbol">)</span> NOT NULL<span class="sh_symbol">,</span></li><li>    <span class="sh_symbol">-&gt;</span> gender <span class="sh_keyword">enum</span><span class="sh_symbol">(</span><span class="sh_string">'boy'</span><span class="sh_symbol">,</span><span class="sh_string">'girl'</span><span class="sh_symbol">)</span> DEFAULT <span class="sh_string">'boy'</span><span class="sh_symbol">,</span></li><li>    <span class="sh_symbol">-&gt;</span> age <span class="sh_function">int</span><span class="sh_symbol">(</span><span class="sh_number">3</span><span class="sh_symbol">)</span> NOT NULL</li><li>    <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">);</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">0</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.23</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@dbsvr1 ~]# mysql -uroot -p
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 19
Server version: 5.7.17 MySQL Community Server (GPL)

Copyright (c) 2000, 2016, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt; use userdb;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
mysql&gt; CREATE TABLE stu_info(
    -&gt; name varchar(12) NOT NULL,
    -&gt; gender enum('boy','girl') DEFAULT 'boy',
    -&gt; age int(3) NOT NULL
    -&gt; );
Query OK, 0 rows affected (0.23 sec)
</pre></div></div>
      <p class="number">删除stu_info表的所有记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> DELETE FROM stu_info<span class="sh_symbol">;</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">0</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span>               <span class="sh_comment">//stu_info表刚建立 删除零条记录</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; DELETE FROM stu_info;
Query OK, 0 rows affected (0.00 sec)               //stu_info表刚建立 删除零条记录
</pre></div></div>
      <p>确认删除结果：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info<span class="sh_symbol">;</span></li><li>Empty <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info;
Empty set (0.00 sec)
</pre></div></div>
      <p class="number">步骤二：练习表记录的操作</p>
      <p>1）插入记录时，指定记录的每一个字段的值</p>
      <p>这种情况下，不需要明确指出字段，但每条记录的值的顺序、类型都必须与表格结构向一致，否则可能无法正确插入记录。</p>
      <p>比如，以下操作将向stu_info表插入3条表记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> INSERT stu_info VALUES</li><li>    <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">(</span><span class="sh_string">'Jim'</span><span class="sh_symbol">,</span><span class="sh_string">'girl'</span><span class="sh_symbol">,</span><span class="sh_number">24</span><span class="sh_symbol">),</span></li><li>    <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">(</span><span class="sh_string">'Tom'</span><span class="sh_symbol">,</span><span class="sh_string">'boy'</span><span class="sh_symbol">,</span><span class="sh_number">21</span><span class="sh_symbol">),</span></li><li>    <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">(</span><span class="sh_string">'Lily'</span><span class="sh_symbol">,</span><span class="sh_string">'girl'</span><span class="sh_symbol">,</span><span class="sh_number">20</span><span class="sh_symbol">);</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">3</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.15</span> sec<span class="sh_symbol">)</span></li><li>Records<span class="sh_symbol">:</span> <span class="sh_number">3</span>  Duplicates<span class="sh_symbol">:</span> <span class="sh_number">0</span>  Warnings<span class="sh_symbol">:</span> <span class="sh_number">0</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; INSERT stu_info VALUES
    -&gt; ('Jim','girl',24),
    -&gt; ('Tom','boy',21),
    -&gt; ('Lily','girl',20);
Query OK, 3 rows affected (0.15 sec)
Records: 3  Duplicates: 0  Warnings: 0
</pre></div></div>
      <p>完成插入后确认表记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jim  <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Tom  <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Lily <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_number">3</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info;
+------+--------+-----+
| name | gender | age |
+------+--------+-----+
| Jim  | girl   |  24 |
| Tom  | boy    |  21 |
| Lily | girl   |  20 |
+------+--------+-----+
3 rows in set (0.00 sec)
</pre></div></div>
      <p class="number">2）插入记录时，只指定记录的部分字段的值</p>
      <p>这种情况下，必须指出各项值所对应的字段；而且，未赋值的字段应设置有默认值或者有自增填充属性或者允许为空，否则插入操作将会失败。</p>
      <p>比如，向stu_info表插入Jerry的年龄信息，性别为默认的“boy”，自动编号，相关操作如下：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> INSERT INTO <span class="sh_function">stu_info</span><span class="sh_symbol">(</span>name<span class="sh_symbol">,</span>age<span class="sh_symbol">)</span></li><li>    <span class="sh_symbol">-&gt;</span> <span class="sh_function">VALUES</span><span class="sh_symbol">(</span><span class="sh_string">'Jerry'</span><span class="sh_symbol">,</span><span class="sh_number">27</span><span class="sh_symbol">);</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">1</span> row <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.04</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; INSERT INTO stu_info(name,age)
    -&gt; VALUES('Jerry',27);
Query OK, 1 row affected (0.04 sec)
</pre></div></div>
      <p>类似的，再插入用户Mike的年龄信息：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> INSERT INTO <span class="sh_function">stu_info</span><span class="sh_symbol">(</span>name<span class="sh_symbol">,</span>age<span class="sh_symbol">)</span></li><li>    <span class="sh_symbol">-&gt;</span> <span class="sh_function">VALUES</span><span class="sh_symbol">(</span><span class="sh_string">'Mike'</span><span class="sh_symbol">,</span><span class="sh_number">21</span><span class="sh_symbol">);</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">1</span> row <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.05</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; INSERT INTO stu_info(name,age)
    -&gt; VALUES('Mike',21);
Query OK, 1 row affected (0.05 sec)
</pre></div></div>
      <p>确认目前stu_info表的所有记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jim   <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Tom   <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Lily  <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">27</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Mike  <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">5</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info;
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Jim   | girl   |  24 |
| Tom   | boy    |  21 |
| Lily  | girl   |  20 |
| Jerry | boy    |  27 |
| Mike  | boy    |  21 |
+-------+--------+-----+
5 rows in set (0.00 sec)
</pre></div></div>
      <p>3）更新表记录时，若未限制条件，则适用于所有记录</p>
      <p>将stu_info表中所有记录的age设置为10：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> UPDATE stu_info SET age<span class="sh_symbol">=</span><span class="sh_number">10</span><span class="sh_symbol">;</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">5</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.04</span> sec<span class="sh_symbol">)</span></li><li>Rows matched<span class="sh_symbol">:</span> <span class="sh_number">5</span>  Changed<span class="sh_symbol">:</span> <span class="sh_number">5</span>  Warnings<span class="sh_symbol">:</span> <span class="sh_number">0</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; UPDATE stu_info SET age=10;
Query OK, 5 rows affected (0.04 sec)
Rows matched: 5  Changed: 5  Warnings: 0
</pre></div></div>
      <p>确认更新结果：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jim   <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">10</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Tom   <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">10</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Lily  <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">10</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">10</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Mike  <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">10</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">5</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info;
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Jim   | girl   |  10 |
| Tom   | boy    |  10 |
| Lily  | girl   |  10 |
| Jerry | boy    |  10 |
| Mike  | boy    |  10 |
+-------+--------+-----+
5 rows in set (0.00 sec)
</pre></div></div>
      <p>4）更新表记录时，可以限制条件，只对符合条件的记录有效</p>
      <p>将stu_info表中所有性别为“boy”的记录的age设置为20：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> UPDATE stu_info SET age<span class="sh_symbol">=</span><span class="sh_number">20</span></li><li>    <span class="sh_symbol">-&gt;</span> WHERE gender<span class="sh_symbol">=</span><span class="sh_string">'boy'</span><span class="sh_symbol">;</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">3</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.04</span> sec<span class="sh_symbol">)</span></li><li>Rows matched<span class="sh_symbol">:</span> <span class="sh_number">3</span>  Changed<span class="sh_symbol">:</span> <span class="sh_number">3</span>  Warnings<span class="sh_symbol">:</span> <span class="sh_number">0</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; UPDATE stu_info SET age=20
    -&gt; WHERE gender='boy';
Query OK, 3 rows affected (0.04 sec)
Rows matched: 3  Changed: 3  Warnings: 0
</pre></div></div>
      <p>确认更新结果：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jim   <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">10</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Tom   <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Lily  <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">10</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Mike  <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">5</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info;
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Jim   | girl   |  10 |
| Tom   | boy    |  20 |
| Lily  | girl   |  10 |
| Jerry | boy    |  20 |
| Mike  | boy    |  20 |
+-------+--------+-----+
5 rows in set (0.00 sec)
</pre></div></div>
      <p>5）删除表记录时，可以限制条件，只删除符合条件的记录</p>
      <p>删除stu_info表中年龄小于18的记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> DELETE FROM stu_info WHERE age <span class="sh_symbol">&lt;</span> <span class="sh_number">18</span><span class="sh_symbol">;</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">2</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.03</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; DELETE FROM stu_info WHERE age &lt; 18;
Query OK, 2 rows affected (0.03 sec)
</pre></div></div>
      <p>确认删除结果：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Tom   <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Mike  <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">3</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info;
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Tom   | boy    |  20 |
| Jerry | boy    |  20 |
| Mike  | boy    |  20 |
+-------+--------+-----+
3 rows in set (0.00 sec)
</pre></div></div>
      <p>6）删除表记录时，如果未限制条件，则会删除所有的表记录</p>
      <p>删除stu_info表的所有记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> DELETE FROM stu_info<span class="sh_symbol">;</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">3</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; DELETE FROM stu_info;
Query OK, 3 rows affected (0.00 sec)
</pre></div></div>
      <p>确认删除结果：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info<span class="sh_symbol">;</span></li><li>Empty <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info;
Empty set (0.00 sec)
</pre></div></div>
      <a name="case4">
      </a>
      <h2>4 查询及匹配条件</h2>
      <h3>4.1 问题</h3>
      <p>练习常见的SQL查询及条件设置</p>
      <ol class="list">
        <li>创建stu_info表，并插入数据
</li>
        <li>练习常见SQL查询及条件设置
</li>
      </ol>
      <h3>4.2 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：根据任务要求建立员工档案表stu_info（如上个实验已创建，可将上个实验stu_info表中记录清除后继续使用）</p>
      <p>1）在userdb库中创建stu_info表</p>
      <p>以root用户登入MySQL服务器：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@dbsvr1 <span class="sh_symbol">~]</span># mysql <span class="sh_symbol">-</span>u root <span class="sh_symbol">-</span>p</li><li>Enter password<span class="sh_symbol">:</span></li><li>Welcome to the MySQL monitor<span class="sh_symbol">.</span>  Commands end <span class="sh_keyword">with</span> <span class="sh_symbol">;</span> or <span class="sh_symbol">\</span>g<span class="sh_symbol">.</span></li><li>Your MySQL connection id is <span class="sh_number">5</span></li><li>Server version<span class="sh_symbol">:</span> <span class="sh_number">5.6.15</span> MySQL Community <span class="sh_function">Server</span> <span class="sh_symbol">(</span>GPL<span class="sh_symbol">)</span></li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_function">Copyright</span> <span class="sh_symbol">(</span>c<span class="sh_symbol">)</span> <span class="sh_number">2000</span><span class="sh_symbol">,</span> <span class="sh_number">2013</span><span class="sh_symbol">,</span> Oracle <span class="sh_normal">and</span><span class="sh_symbol">/</span>or its affiliates<span class="sh_symbol">.</span> All rights reserved<span class="sh_symbol">.</span></li><li><span style="display:none;">&nbsp;</span></li><li>Oracle is a registered trademark of Oracle Corporation <span class="sh_normal">and</span><span class="sh_symbol">/</span>or its</li><li>affiliates<span class="sh_symbol">.</span> Other names may be trademarks of their respective</li><li>owners<span class="sh_symbol">.</span></li><li><span style="display:none;">&nbsp;</span></li><li>Type <span class="sh_string">'help;'</span> or <span class="sh_string">'</span><span class="sh_specialchar">\h</span><span class="sh_string">'</span> <span class="sh_keyword">for</span> help<span class="sh_symbol">.</span> Type <span class="sh_string">'</span><span class="sh_specialchar">\c</span><span class="sh_string">'</span> to clear the current input statement<span class="sh_symbol">.</span></li><li><span style="display:none;">&nbsp;</span></li><li>mysql<span class="sh_symbol">&gt;</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@dbsvr1 ~]# mysql -u root -p
Enter password:
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 5
Server version: 5.6.15 MySQL Community Server (GPL)

Copyright (c) 2000, 2013, Oracle and/or its affiliates. All rights reserved.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql&gt;
</pre></div></div>
      <p>打开test库：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> USE userdb<span class="sh_symbol">;</span></li><li>Reading table information <span class="sh_keyword">for</span> completion of table and column names</li><li>You can turn off <span class="sh_keyword">this</span> feature to get a quicker startup <span class="sh_keyword">with</span> <span class="sh_symbol">-</span>A</li><li><span style="display:none;">&nbsp;</span></li><li>Database changed</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; USE userdb;
Reading table information for completion of table and column names
You can turn off this feature to get a quicker startup with -A

Database changed
</pre></div></div>
      <p>创建stu_info表，包括name、gender、age三个字段：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> CREATE TABLE <span class="sh_function">stu_info</span><span class="sh_symbol">(</span></li><li>    <span class="sh_symbol">-&gt;</span> name <span class="sh_function">varchar</span><span class="sh_symbol">(</span><span class="sh_number">12</span><span class="sh_symbol">)</span> NOT NULL<span class="sh_symbol">,</span></li><li>    <span class="sh_symbol">-&gt;</span> gender <span class="sh_keyword">enum</span><span class="sh_symbol">(</span><span class="sh_string">'boy'</span><span class="sh_symbol">,</span><span class="sh_string">'girl'</span><span class="sh_symbol">)</span> DEFAULT <span class="sh_string">'boy'</span><span class="sh_symbol">,</span></li><li>    <span class="sh_symbol">-&gt;</span> age <span class="sh_function">int</span><span class="sh_symbol">(</span><span class="sh_number">3</span><span class="sh_symbol">)</span> NOT NULL</li><li>    <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">);</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">0</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.03</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; CREATE TABLE stu_info(
    -&gt; name varchar(12) NOT NULL,
    -&gt; gender enum('boy','girl') DEFAULT 'boy',
    -&gt; age int(3) NOT NULL
    -&gt; );
Query OK, 0 rows affected (0.03 sec)
</pre></div></div>
      <p>确认表结构：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> DESC stu_info<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+--------+--------------------+------+-----+---------+-------+</span></li><li><span class="sh_symbol">|</span> Field  <span class="sh_symbol">|</span> Type               <span class="sh_symbol">|</span> Null <span class="sh_symbol">|</span> Key <span class="sh_symbol">|</span> Default <span class="sh_symbol">|</span> Extra <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+--------+--------------------+------+-----+---------+-------+</span></li><li><span class="sh_symbol">|</span> name   <span class="sh_symbol">|</span> <span class="sh_function">varchar</span><span class="sh_symbol">(</span><span class="sh_number">12</span><span class="sh_symbol">)</span>        <span class="sh_symbol">|</span> NO   <span class="sh_symbol">|</span>     <span class="sh_symbol">|</span> NULL    <span class="sh_symbol">|</span>       <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> <span class="sh_keyword">enum</span><span class="sh_symbol">(</span><span class="sh_string">'boy'</span><span class="sh_symbol">,</span><span class="sh_string">'girl'</span><span class="sh_symbol">)</span> <span class="sh_symbol">|</span> YES  <span class="sh_symbol">|</span>     <span class="sh_symbol">|</span> boy     <span class="sh_symbol">|</span>       <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> age    <span class="sh_symbol">|</span> <span class="sh_function">int</span><span class="sh_symbol">(</span><span class="sh_number">3</span><span class="sh_symbol">)</span>             <span class="sh_symbol">|</span> NO   <span class="sh_symbol">|</span>     <span class="sh_symbol">|</span> NULL    <span class="sh_symbol">|</span>       <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+--------+--------------------+------+-----+---------+-------+</span></li><li><span class="sh_number">3</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.01</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; DESC stu_info;
+--------+--------------------+------+-----+---------+-------+
| Field  | Type               | Null | Key | Default | Extra |
+--------+--------------------+------+-----+---------+-------+
| name   | varchar(12)        | NO   |     | NULL    |       |
| gender | enum('boy','girl') | YES  |     | boy     |       |
| age    | int(3)             | NO   |     | NULL    |       |
+--------+--------------------+------+-----+---------+-------+
3 rows in set (0.01 sec)
</pre></div></div>
      <p>2）准备测试表格</p>
      <p>向建立的stu_info表插入几条测试记录</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> INSERT INTO stu_info VALUES</li><li>    <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">(</span><span class="sh_string">'Jim'</span><span class="sh_symbol">,</span><span class="sh_string">'girl'</span><span class="sh_symbol">,</span><span class="sh_number">24</span><span class="sh_symbol">),</span></li><li>    <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">(</span><span class="sh_string">'Tom'</span><span class="sh_symbol">,</span><span class="sh_string">'boy'</span><span class="sh_symbol">,</span><span class="sh_number">21</span><span class="sh_symbol">),</span></li><li>    <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">(</span><span class="sh_string">'Lily'</span><span class="sh_symbol">,</span><span class="sh_string">'girl'</span><span class="sh_symbol">,</span><span class="sh_number">20</span><span class="sh_symbol">),</span></li><li>    <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">(</span><span class="sh_string">'Jerry'</span><span class="sh_symbol">,</span><span class="sh_string">'boy'</span><span class="sh_symbol">,</span><span class="sh_number">27</span><span class="sh_symbol">),</span></li><li>    <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">(</span><span class="sh_string">'Mike'</span><span class="sh_symbol">,</span><span class="sh_string">'boy'</span><span class="sh_symbol">,</span><span class="sh_number">21</span><span class="sh_symbol">)</span></li><li>    <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">;</span></li><li>Query OK<span class="sh_symbol">,</span> <span class="sh_number">5</span> rows <span class="sh_function">affected</span> <span class="sh_symbol">(</span><span class="sh_number">0.06</span> sec<span class="sh_symbol">)</span></li><li>Records<span class="sh_symbol">:</span> <span class="sh_number">5</span>  Duplicates<span class="sh_symbol">:</span> <span class="sh_number">0</span>  Warnings<span class="sh_symbol">:</span> <span class="sh_number">0</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; INSERT INTO stu_info VALUES
    -&gt; ('Jim','girl',24),
    -&gt; ('Tom','boy',21),
    -&gt; ('Lily','girl',20),
    -&gt; ('Jerry','boy',27),
    -&gt; ('Mike','boy',21)
    -&gt; ;
Query OK, 5 rows affected (0.06 sec)
Records: 5  Duplicates: 0  Warnings: 0
</pre></div></div>
      <p>确认stu_info表的所有记录内容：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jim   <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Tom   <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Lily  <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">27</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Mike  <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">5</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info;
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Jim   | girl   |  24 |
| Tom   | boy    |  21 |
| Lily  | girl   |  20 |
| Jerry | boy    |  27 |
| Mike  | boy    |  21 |
+-------+--------+-----+
5 rows in set (0.00 sec)
</pre></div></div>
      <p class="number">步骤二：练习常见SQL查询及条件设置</p>
      <p>1）常用的表记录统计函数</p>
      <p>查询stu_info表一共有多少条记录（本例中为5条）：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_function">count</span><span class="sh_symbol">(*)</span> FROM stu_info<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+----------+</span></li><li><span class="sh_symbol">|</span> <span class="sh_function">count</span><span class="sh_symbol">(*)</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----------+</span></li><li><span class="sh_symbol">|</span>        <span class="sh_number">5</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----------+</span></li><li><span class="sh_number">1</span> row <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT count(*) FROM stu_info;
+----------+
| count(*) |
+----------+
|        5 |
+----------+
1 row in set (0.00 sec)
</pre></div></div>
      <p>计算stu_info表中各学员的平均年龄、最大年龄、最小年龄：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_function">avg</span><span class="sh_symbol">(</span>age<span class="sh_symbol">),</span><span class="sh_function">max</span><span class="sh_symbol">(</span>age<span class="sh_symbol">),</span><span class="sh_function">min</span><span class="sh_symbol">(</span>age<span class="sh_symbol">)</span> FROM stu_info<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+----------+----------+----------+</span></li><li><span class="sh_symbol">|</span> <span class="sh_function">avg</span><span class="sh_symbol">(</span>age<span class="sh_symbol">)</span> <span class="sh_symbol">|</span> <span class="sh_function">max</span><span class="sh_symbol">(</span>age<span class="sh_symbol">)</span> <span class="sh_symbol">|</span> <span class="sh_function">min</span><span class="sh_symbol">(</span>age<span class="sh_symbol">)</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----------+----------+----------+</span></li><li><span class="sh_symbol">|</span>  <span class="sh_number">22.6000</span> <span class="sh_symbol">|</span>       <span class="sh_number">27</span> <span class="sh_symbol">|</span>       <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----------+----------+----------+</span></li><li><span class="sh_number">1</span> row <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT avg(age),max(age),min(age) FROM stu_info;
+----------+----------+----------+
| avg(age) | max(age) | min(age) |
+----------+----------+----------+
|  22.6000 |       27 |       20 |
+----------+----------+----------+
1 row in set (0.00 sec)
</pre></div></div>
      <p>计算stu_info表中男学员的个数：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_function">count</span><span class="sh_symbol">(</span>gender<span class="sh_symbol">)</span> FROM stu_info WHERE gender<span class="sh_symbol">=</span><span class="sh_string">'boy'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+---------------+</span></li><li><span class="sh_symbol">|</span> <span class="sh_function">count</span><span class="sh_symbol">(</span>gender<span class="sh_symbol">)</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+---------------+</span></li><li><span class="sh_symbol">|</span>             <span class="sh_number">3</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+---------------+</span></li><li><span class="sh_number">1</span> row <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT count(gender) FROM stu_info WHERE gender='boy';
+---------------+
| count(gender) |
+---------------+
|             3 |
+---------------+
1 row in set (0.00 sec)
</pre></div></div>
      <p>2）字段值的数值比较</p>
      <p>列出stu_info表中年龄为21岁的学员记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info WHERE age<span class="sh_symbol">=</span><span class="sh_number">21</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Tom  <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Mike <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_number">2</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info WHERE age=21;
+------+--------+-----+
| name | gender | age |
+------+--------+-----+
| Tom  | boy    |  21 |
| Mike | boy    |  21 |
+------+--------+-----+
2 rows in set (0.00 sec)
</pre></div></div>
      <p>列出stu_info表中年龄超过21岁的学员记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info WHERE age<span class="sh_symbol">&gt;</span><span class="sh_number">21</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jim   <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">27</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">2</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info WHERE age&gt;21;
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Jim   | girl   |  24 |
| Jerry | boy    |  27 |
+-------+--------+-----+
2 rows in set (0.00 sec)
</pre></div></div>
      <p>列出stu_info表中年龄大于或等于21岁的学员记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info WHERE age<span class="sh_symbol">&gt;=</span><span class="sh_number">21</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jim   <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Tom   <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">27</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Mike  <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">4</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info WHERE age&gt;=21;
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Jim   | girl   |  24 |
| Tom   | boy    |  21 |
| Jerry | boy    |  27 |
| Mike  | boy    |  21 |
+-------+--------+-----+
4 rows in set (0.00 sec)
</pre></div></div>
      <p>列出stu_info表中年龄在20岁和24岁之间的学员记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info WHERE age BETWEEN <span class="sh_number">20</span> and <span class="sh_number">24</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jim  <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Tom  <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Lily <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Mike <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_number">4</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info WHERE age BETWEEN 20 and 24;
+------+--------+-----+
| name | gender | age |
+------+--------+-----+
| Jim  | girl   |  24 |
| Tom  | boy    |  21 |
| Lily | girl   |  20 |
| Mike | boy    |  21 |
+------+--------+-----+
4 rows in set (0.00 sec)
</pre></div></div>
      <p>3）多个条件的组合</p>
      <p>列出stu_info表中年龄小于23岁的女学员记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info WHERE age <span class="sh_symbol">&lt;</span> <span class="sh_number">23</span> AND gender<span class="sh_symbol">=</span><span class="sh_string">'girl'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Lily <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_number">1</span> row <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info WHERE age &lt; 23 AND gender='girl';
+------+--------+-----+
| name | gender | age |
+------+--------+-----+
| Lily | girl   |  20 |
+------+--------+-----+
1 row in set (0.00 sec)
</pre></div></div>
      <p>列出stu_info表中年龄小于23岁的学员，或者女学员的记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info WHERE age <span class="sh_symbol">&lt;</span> <span class="sh_number">23</span> OR gender<span class="sh_symbol">=</span><span class="sh_string">'girl'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jim  <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Tom  <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Lily <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Mike <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_number">4</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info WHERE age &lt; 23 OR gender='girl';
+------+--------+-----+
| name | gender | age |
+------+--------+-----+
| Jim  | girl   |  24 |
| Tom  | boy    |  21 |
| Lily | girl   |  20 |
| Mike | boy    |  21 |
+------+--------+-----+
4 rows in set (0.00 sec)
</pre></div></div>
      <p>如果某个记录的姓名属于指定范围内的一个，则将其列出：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info WHERE name IN</li><li>    <span class="sh_symbol">-&gt;</span> <span class="sh_symbol">(</span><span class="sh_string">'Jim'</span><span class="sh_symbol">,</span><span class="sh_string">'Tom'</span><span class="sh_symbol">,</span><span class="sh_string">'Mickey'</span><span class="sh_symbol">,</span><span class="sh_string">'Minnie'</span><span class="sh_symbol">);</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jim  <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Tom  <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_number">2</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info WHERE name IN
    -&gt; ('Jim','Tom','Mickey','Minnie');
+------+--------+-----+
| name | gender | age |
+------+--------+-----+
| Jim  | girl   |  24 |
| Tom  | boy    |  21 |
+------+--------+-----+
2 rows in set (0.00 sec)
</pre></div></div>
      <p>4）使用SELECT做数学计算</p>
      <p>计算1234与5678的和：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_number">1234+5678</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-----------+</span></li><li><span class="sh_symbol">|</span> <span class="sh_number">1234+5678</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-----------+</span></li><li><span class="sh_symbol">|</span>      <span class="sh_number">6912</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-----------+</span></li><li><span class="sh_number">1</span> row <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT 1234+5678;
+-----------+
| 1234+5678 |
+-----------+
|      6912 |
+-----------+
1 row in set (0.00 sec)
</pre></div></div>
      <p>计算1234与5678的乘积：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_number">1234</span><span class="sh_symbol">*</span><span class="sh_number">5678</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-----------+</span></li><li><span class="sh_symbol">|</span> <span class="sh_number">1234</span><span class="sh_symbol">*</span><span class="sh_number">5678</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-----------+</span></li><li><span class="sh_symbol">|</span>   <span class="sh_number">7006652</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-----------+</span></li><li><span class="sh_number">1</span> row <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT 1234*5678;
+-----------+
| 1234*5678 |
+-----------+
|   7006652 |
+-----------+
1 row in set (0.00 sec)
</pre></div></div>
      <p>计算1.23456789除以3的结果：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_number">1.23456789</span><span class="sh_symbol">/</span><span class="sh_number">3</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+----------------+</span></li><li><span class="sh_symbol">|</span> <span class="sh_number">1.23456789</span><span class="sh_symbol">/</span><span class="sh_number">3</span>   <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----------------+</span></li><li><span class="sh_symbol">|</span> <span class="sh_number">0.411522630000</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+----------------+</span></li><li><span class="sh_number">1</span> row <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT 1.23456789/3;
+----------------+
| 1.23456789/3   |
+----------------+
| 0.411522630000 |
+----------------+
1 row in set (0.00 sec)
</pre></div></div>
      <p>输出stu_info表各学员的姓名、15年后的年龄：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT name<span class="sh_symbol">,</span>age<span class="sh_number">+15</span> FROM stu_info<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> age<span class="sh_number">+15</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+</span></li><li><span class="sh_symbol">|</span> Jim   <span class="sh_symbol">|</span>     <span class="sh_number">39</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Tom   <span class="sh_symbol">|</span>     <span class="sh_number">36</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Lily  <span class="sh_symbol">|</span>     <span class="sh_number">35</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span>     <span class="sh_number">42</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Mike  <span class="sh_symbol">|</span>     <span class="sh_number">36</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+</span></li><li><span class="sh_number">5</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT name,age+15 FROM stu_info;
+-------+--------+
| name  | age+15 |
+-------+--------+
| Jim   |     39 |
| Tom   |     36 |
| Lily  |     35 |
| Jerry |     42 |
| Mike  |     36 |
+-------+--------+
5 rows in set (0.00 sec)
</pre></div></div>
      <p>5）使用模糊查询，LIKE引领</p>
      <p>以下划线 _ 匹配单个字符，% 可匹配任意多个字符。</p>
      <p>列出stu_info表中姓名以“J”开头的学员记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info WHERE name LIKE <span class="sh_string">'J%'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jim   <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">27</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">2</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info WHERE name LIKE 'J%';
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Jim   | girl   |  24 |
| Jerry | boy    |  27 |
+-------+--------+-----+
2 rows in set (0.00 sec)
</pre></div></div>
      <p>列出stu_info表中姓名以“J”开头且只有3个字母的学员记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info WHERE name LIKE <span class="sh_string">'J__'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jim  <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_number">1</span> row <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info WHERE name LIKE 'J__';
+------+--------+-----+
| name | gender | age |
+------+--------+-----+
| Jim  | girl   |  24 |
+------+--------+-----+
1 row in set (0.00 sec)
</pre></div></div>
      <p>6）使用正则表达式，REGEXP引领</p>
      <p>列出stu_info表中姓名以“J”开头且以“y”结尾的学员记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info WHERE name REGEXP <span class="sh_string">'^J.*y$'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">27</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">1</span> row <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info WHERE name REGEXP '^J.*y$';
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Jerry | boy    |  27 |
+-------+--------+-----+
1 row in set (0.00 sec)
</pre></div></div>
      <p>效果等同于：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info WHERE name Like <span class="sh_string">'J%y'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">27</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">1</span> row <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info WHERE name Like 'J%y';
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Jerry | boy    |  27 |
+-------+--------+-----+
1 row in set (0.00 sec)
</pre></div></div>
      <p>列出stu_info表中姓名以“J”开头或者以“y”结尾的学员记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info WHERE name REGEXP <span class="sh_string">'^J|y$'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jim   <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Lily  <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">27</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">3</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info WHERE name REGEXP '^J|y$';
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Jim   | girl   |  24 |
| Lily  | girl   |  20 |
| Jerry | boy    |  27 |
+-------+--------+-----+
3 rows in set (0.00 sec)
</pre></div></div>
      <p>效果等同于：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info WHERE name Like <span class="sh_string">'J%'</span> OR name Like <span class="sh_string">'%y'</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jim   <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Lily  <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">27</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">3</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info WHERE name Like 'J%' OR name Like '%y';
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Jim   | girl   |  24 |
| Lily  | girl   |  20 |
| Jerry | boy    |  27 |
+-------+--------+-----+
3 rows in set (0.00 sec)
</pre></div></div>
      <p>7）按指定的字段排序，ORDER BY</p>
      <p>列出stu_info表的所有记录，按年龄排序：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info GROUP BY age<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Lily  <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Tom   <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jim   <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">27</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">4</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info GROUP BY age;
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Lily  | girl   |  20 |
| Tom   | boy    |  21 |
| Jim   | girl   |  24 |
| Jerry | boy    |  27 |
+-------+--------+-----+
4 rows in set (0.00 sec)
</pre></div></div>
      <p>因默认为升序（Ascend）排列，所以上述操作等效于：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info GROUP BY age ASC<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Lily  <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Tom   <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jim   <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">27</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">4</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info GROUP BY age ASC;
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Lily  | girl   |  20 |
| Tom   | boy    |  21 |
| Jim   | girl   |  24 |
| Jerry | boy    |  27 |
+-------+--------+-----+
4 rows in set (0.00 sec)
</pre></div></div>
      <p>若要按降序（Descend）排列，则将ASC改为DESC即可：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info GROUP BY age DESC<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">27</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jim   <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Tom   <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Lily  <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">4</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info GROUP BY age DESC;
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Jerry | boy    |  27 |
| Jim   | girl   |  24 |
| Tom   | boy    |  21 |
| Lily  | girl   |  20 |
+-------+--------+-----+
4 rows in set (0.00 sec)
</pre></div></div>
      <p>8）限制查询结果的输出条数，LIMIT</p>
      <p>查询stu_info表的所有记录，只列出前3条：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info LIMIT <span class="sh_number">3</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jim  <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Tom  <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Lily <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">20</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+------+--------+-----+</span></li><li><span class="sh_number">3</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info LIMIT 3;
+------+--------+-----+
| name | gender | age |
+------+--------+-----+
| Jim  | girl   |  24 |
| Tom  | boy    |  21 |
| Lily | girl   |  20 |
+------+--------+-----+
3 rows in set (0.00 sec)
</pre></div></div>
      <p>列出stu_info表中年龄最大的3条学员记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT <span class="sh_symbol">*</span> FROM stu_info GROUP BY age DESC LIMIT <span class="sh_number">3</span><span class="sh_symbol">;</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> name  <span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> age <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_symbol">|</span> Jerry <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">27</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Jim   <span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>  <span class="sh_number">24</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> Tom   <span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>  <span class="sh_number">21</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+-------+--------+-----+</span></li><li><span class="sh_number">3</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT * FROM stu_info GROUP BY age DESC LIMIT 3;
+-------+--------+-----+
| name  | gender | age |
+-------+--------+-----+
| Jerry | boy    |  27 |
| Jim   | girl   |  24 |
| Tom   | boy    |  21 |
+-------+--------+-----+
3 rows in set (0.00 sec)
</pre></div></div>
      <p>9）分组查询结果，GROUP BY</p>
      <p>针对stu_info表，按性别分组，分别统计出男、女学员的人数：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT gender<span class="sh_symbol">,</span><span class="sh_function">count</span><span class="sh_symbol">(</span>gender<span class="sh_symbol">)</span> FROM stu_info GROUP BY gender<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+--------+---------------+</span></li><li><span class="sh_symbol">|</span> gender <span class="sh_symbol">|</span> <span class="sh_function">count</span><span class="sh_symbol">(</span>gender<span class="sh_symbol">)</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+--------+---------------+</span></li><li><span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>             <span class="sh_number">3</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>             <span class="sh_number">2</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+--------+---------------+</span></li><li><span class="sh_number">2</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT gender,count(gender) FROM stu_info GROUP BY gender;
+--------+---------------+
| gender | count(gender) |
+--------+---------------+
| boy    |             3 |
| girl   |             2 |
+--------+---------------+
2 rows in set (0.00 sec)
</pre></div></div>
      <p>列出查询字段时，可以通过AS关键字来指定显示别名，比如上述操作可改为：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/DBA1/DAY03/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>mysql<span class="sh_symbol">&gt;</span> SELECT gender AS <span class="sh_string">'性别'</span><span class="sh_symbol">,</span><span class="sh_function">count</span><span class="sh_symbol">(</span>gender<span class="sh_symbol">)</span> AS <span class="sh_string">'人数'</span></li><li>    <span class="sh_symbol">-&gt;</span> FROM stu_info GROUP BY gender<span class="sh_symbol">;</span></li><li><span class="sh_symbol">+--------+--------+</span></li><li><span class="sh_symbol">|</span> 性别   <span class="sh_symbol">|</span> 人数   <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+--------+--------+</span></li><li><span class="sh_symbol">|</span> boy    <span class="sh_symbol">|</span>      <span class="sh_number">3</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">|</span> girl   <span class="sh_symbol">|</span>      <span class="sh_number">2</span> <span class="sh_symbol">|</span></li><li><span class="sh_symbol">+--------+--------+</span></li><li><span class="sh_number">2</span> rows <span class="sh_keyword">in</span> <span class="sh_function">set</span> <span class="sh_symbol">(</span><span class="sh_number">0.00</span> sec<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">mysql&gt; SELECT gender AS '性别',count(gender) AS '人数'
    -&gt; FROM stu_info GROUP BY gender;
+--------+--------+
| 性别   | 人数   |
+--------+--------+
| boy    |      3 |
| girl   |      2 |
+--------+--------+
2 rows in set (0.00 sec)
</pre></div></div>
    </div>
  
</body></html>