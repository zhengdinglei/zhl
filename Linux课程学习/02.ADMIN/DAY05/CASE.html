
<!-- saved from url=(0076)http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>CASE</title>
    
    <script type="text/javascript" src="./CASE_files/jquery.min.js">
    </script>
    <script type="text/javascript" src="./CASE_files/jquery.snippet.js">
    </script>
    <script type="text/javascript" src="./CASE_files/main.js">
    </script>
    <link type="text/css" href="./CASE_files/index.css" rel="Stylesheet">
    <link type="text/css" href="./CASE_files/jquery.snippet.css" rel="Stylesheet">
  </head>
  <body>
    <div class="source_style_case">
      <a name="page_top_case" id="top_anchor">
      </a><a id="link_top" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#page_top_case">Top</a>
      <h1>NSD ADMIN DAY05</h1>
      <ol class="index">
        <li>
          <a href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#case1">案例1：配置用户和组账号</a>
        </li>
        <li>
          <a href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#case2">案例2：创建一个备份包</a>
        </li>
        <li>
          <a href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#case3">案例3：配置NTP网络时间客户端</a>
        </li>
        <li>
          <a href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#case4">案例4：配置一个cron任务</a>
        </li>
      </ol>
      <a name="case1">
      </a>
      <h2>1 案例1：配置用户和组账号</h2>
      <h3>1.1 问题</h3>
      <p>本例要求创建下列用户、组以及组的成员关系：</p>
      <ol class="list">
        <li>新建用户 alex，其用户ID为3456，密码是flectrag
</li>
        <li>创建一个名为 adminuser 的组
</li>
        <li>创建一个名为 natasha 的用户，其属于 adminuser 组，这个组是该用户的从属组
</li>
        <li>创建一个名为 harry 的用户，其属于 adminuser 组，这个组是该用户的从属组
</li>
        <li>创建一个名为 sarah 的用户，其在系统中没有可交互的 Shell，并且不是 adminuser 组的成员
</li>
        <li>natasha 、harry、sarah 的密码都要设置为 flectrag
</li>
      </ol>
      <h3>1.2 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：创建组账号</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># groupadd  adminuser</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# groupadd  adminuser
</pre></div></div>
      <p class="number">步骤二：按照要求的属性创建用户账号</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># useradd  <span class="sh_symbol">-</span>u  <span class="sh_number">3456</span>  alex</li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># useradd  <span class="sh_symbol">-</span>G  adminuser  natasha</li><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># useradd  <span class="sh_symbol">-</span>G  adminuser  harry</li><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># useradd  <span class="sh_symbol">-</span><span class="sh_normal">s  </span><span class="sh_symbol">/</span><span class="sh_normal">sbin</span><span class="sh_symbol">/</span>nologin  sarah</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# useradd  -u  3456  alex

[root@server0 ~]# useradd  -G  adminuser  natasha
[root@server0 ~]# useradd  -G  adminuser  harry
[root@server0 ~]# useradd  -s  /sbin/nologin  sarah
</pre></div></div>
      <p class="number">步骤三：为用户设置登录密码</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># echo  flectrag  <span class="sh_symbol">|</span>  passwd  <span class="sh_symbol">--</span>stdin  alex</li><li>更改用户 alex 的密码 。</li><li>passwd：所有的身份验证令牌已经成功更新。</li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># echo  flectrag  <span class="sh_symbol">|</span>  passwd  <span class="sh_symbol">--</span>stdin  natasha</li><li>更改用户 natasha 的密码 。</li><li>passwd：所有的身份验证令牌已经成功更新。</li><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># echo  flectrag  <span class="sh_symbol">|</span>  passwd  <span class="sh_symbol">--</span>stdin  harry</li><li>更改用户 harry 的密码 。</li><li>passwd：所有的身份验证令牌已经成功更新。</li><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># echo  flectrag  <span class="sh_symbol">|</span>  passwd  <span class="sh_symbol">--</span>stdin  sarah</li><li>更改用户 sarah 的密码 。</li><li>passwd：所有的身份验证令牌已经成功更新。</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# echo  flectrag  |  passwd  --stdin  alex
更改用户 alex 的密码 。
passwd：所有的身份验证令牌已经成功更新。

[root@server0 ~]# echo  flectrag  |  passwd  --stdin  natasha
更改用户 natasha 的密码 。
passwd：所有的身份验证令牌已经成功更新。
[root@server0 ~]# echo  flectrag  |  passwd  --stdin  harry
更改用户 harry 的密码 。
passwd：所有的身份验证令牌已经成功更新。
[root@server0 ~]# echo  flectrag  |  passwd  --stdin  sarah
更改用户 sarah 的密码 。
passwd：所有的身份验证令牌已经成功更新。
</pre></div></div>
      <a name="case2">
      </a>
      <h2>2 案例2：创建一个备份包</h2>
      <h3>2.1 问题</h3>
      <p>本例要求使用 tar 工具完成以下备份任务：</p>
      <ol class="list">
        <li>创建一个名为 /root/backup.tar.bz2 的归档文件
</li>
        <li>其中包含 /usr/local 目录中的内容
</li>
        <li>tar 归档必须使用 bzip2 进行压缩
</li>
      </ol>
      <h3>2.2 方案</h3>
      <p>制作归档压缩包：</p>
      <ul class="list">
        <li>tar  -zPcf  备份文件.tar.gz  文档....
</li>
        <li>tar  -jPcf  备份文件.tar.bz2  文档....
</li>
        <li>tar  -JPcf  备份文件.tar.xz  文档....
</li>
      </ul>
      <p>查看归档压缩包：</p>
      <ul class="list">
        <li>tar  -tf  备份文件
</li>
      </ul>
      <p>释放归档压缩包：</p>
      <ul class="list">
        <li>tar  -xf  备份文件   [-C  目标目录]
</li>
      </ul>
      <h3>2.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：创建备份文件</p>
      <p>使用tar命令制作归档备份，结合-j选项调用bzip2压缩工具，保留绝对路径：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># tar  <span class="sh_normal">jcPf  </span><span class="sh_symbol">/</span><span class="sh_normal">root</span><span class="sh_symbol">/</span>backup<span class="sh_symbol">.</span>tar<span class="sh_symbol">.</span><span class="sh_normal">bz2  </span><span class="sh_symbol">/</span><span class="sh_normal">usr</span><span class="sh_symbol">/</span><span class="sh_normal">local</span><span class="sh_symbol">/</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# tar  jcPf  /root/backup.tar.bz2  /usr/local/
</pre></div></div>
      <p class="number">步骤二：确认结果</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># ls  <span class="sh_symbol">-</span><span class="sh_normal">lh  </span><span class="sh_symbol">/</span><span class="sh_normal">root</span><span class="sh_symbol">/</span>backup<span class="sh_symbol">.</span>tar<span class="sh_symbol">.</span>bz2  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//确认文件</span></li><li><span class="sh_symbol">-</span>rw<span class="sh_symbol">-</span>r<span class="sh_symbol">--</span>r<span class="sh_symbol">--.</span> <span class="sh_number">1</span> root root <span class="sh_number">1</span><span class="sh_symbol">.</span>9K <span class="sh_number">12</span>月 <span class="sh_number">23</span> <span class="sh_number">23</span><span class="sh_symbol">:</span><span class="sh_number">22</span><span class="sh_normal"> </span><span class="sh_symbol">/</span><span class="sh_normal">root</span><span class="sh_symbol">/</span>backup<span class="sh_symbol">.</span>tar<span class="sh_symbol">.</span>bz2</li><li><span style="display:none;">&nbsp;</span></li><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># tar  <span class="sh_normal">tPf  </span><span class="sh_symbol">/</span><span class="sh_normal">root</span><span class="sh_symbol">/</span>backup<span class="sh_symbol">.</span>tar<span class="sh_symbol">.</span>bz2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//确认内容</span></li><li><span class="sh_regexp">/usr/</span><span class="sh_normal">local</span><span class="sh_symbol">/</span></li><li><span class="sh_regexp">/usr/</span><span class="sh_normal">local</span><span class="sh_symbol">/</span><span class="sh_normal">bin</span><span class="sh_symbol">/</span></li><li><span class="sh_regexp">/usr/</span><span class="sh_normal">local</span><span class="sh_symbol">/</span><span class="sh_normal">bin</span><span class="sh_symbol">/</span>lab</li><li><span class="sh_regexp">/usr/</span><span class="sh_normal">local</span><span class="sh_symbol">/</span><span class="sh_normal">etc</span><span class="sh_symbol">/</span></li><li><span class="sh_regexp">/usr/</span><span class="sh_normal">local</span><span class="sh_symbol">/</span><span class="sh_normal">games</span><span class="sh_symbol">/</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# ls  -lh  /root/backup.tar.bz2  		//确认文件
-rw-r--r--. 1 root root 1.9K 12月 23 23:22 /root/backup.tar.bz2

[root@server0 ~]# tar  tPf  /root/backup.tar.bz2 		//确认内容
/usr/local/
/usr/local/bin/
/usr/local/bin/lab
/usr/local/etc/
/usr/local/games/

</pre></div></div>
      <a name="case3">
      </a>
      <h2>3 案例3：配置NTP网络时间客户端</h2>
      <h3>3.1 问题</h3>
      <p>本例要求配置虚拟机 server0，能够自动校对系统时间。相关信息如下：</p>
      <ol class="list">
        <li>NTP服务器位于 classroom.example.com 
</li>
        <li>此客户机的系统时间应当与NTP服务器的时间保持同步
</li>
      </ol>
      <h3>3.2 方案</h3>
      <p>NTP服务端可以为客户端提供标准的日期时间。</p>
      <p>在RHEL7主机中可以配置软件包chrony来使用NTP时间同步。</p>
      <h3>3.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：确认已安装NTP客户端软件包chrony</p>
      <p>通常系统会默认安装此软件包：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># rpm  <span class="sh_symbol">-</span>q  chrony</li><li>chrony<span class="sh_number">-1.29.1-1</span><span class="sh_symbol">.</span>el7<span class="sh_symbol">.</span>x86_64</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# rpm  -q  chrony
chrony-1.29.1-1.el7.x86_64
</pre></div></div>
      <p>如果检查发现此软件包没有安装，请通过yum命令安装：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># yum  <span class="sh_symbol">-</span>y  install  chrony</li><li><span class="sh_symbol">..</span> <span class="sh_symbol">..</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# yum  -y  install  chrony
.. ..
</pre></div></div>
      <p>如果发现此软件包已经安装，但配置文件/etc/chrony.conf损坏或信息丢失，可删除此文件后重新安装chrony软件包：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># rm  <span class="sh_symbol">-</span><span class="sh_normal">rf  </span><span class="sh_symbol">/</span><span class="sh_normal">etc</span><span class="sh_symbol">/</span>chrony<span class="sh_symbol">.</span>conf </li><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># yum  <span class="sh_symbol">-</span>y  reinstall  chrony</li><li>已加载插件：langpacks</li><li>正在解决依赖关系</li><li><span class="sh_symbol">--&gt;</span> 正在检查事务</li><li><span class="sh_symbol">---&gt;</span> 软件包 chrony<span class="sh_symbol">.</span>x86_64<span class="sh_number">.0.1.29.1-1</span><span class="sh_symbol">.</span>el7 将被 重新安装</li><li><span class="sh_symbol">--&gt;</span> 解决依赖关系完成</li><li><span class="sh_symbol">..</span> <span class="sh_symbol">..</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# rm  -rf  /etc/chrony.conf 
[root@server0 ~]# yum  -y  reinstall  chrony
已加载插件：langpacks
正在解决依赖关系
--&gt; 正在检查事务
---&gt; 软件包 chrony.x86_64.0.1.29.1-1.el7 将被 重新安装
--&gt; 解决依赖关系完成
.. ..
</pre></div></div>
      <p class="number">步骤二：调整NTP客户端配置</p>
      <p>1）修改/etc/chrony.conf文件内的server配置</p>
      <p>移除不可用的NTP服务器记录，正确添加可用的记录：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># <span class="sh_normal">vim  </span><span class="sh_symbol">/</span><span class="sh_normal">etc</span><span class="sh_symbol">/</span>chrony<span class="sh_symbol">.</span>conf</li><li><span class="sh_symbol">..</span> <span class="sh_symbol">..</span></li><li>#server <span class="sh_number">0</span><span class="sh_symbol">.</span>rhel<span class="sh_symbol">.</span>pool<span class="sh_symbol">.</span>ntp<span class="sh_symbol">.</span>org iburst  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//注释掉默认的server配置，</span></li><li>#server <span class="sh_number">1</span><span class="sh_symbol">.</span>rhel<span class="sh_symbol">.</span>pool<span class="sh_symbol">.</span>ntp<span class="sh_symbol">.</span>org iburst</li><li>#server <span class="sh_number">2</span><span class="sh_symbol">.</span>rhel<span class="sh_symbol">.</span>pool<span class="sh_symbol">.</span>ntp<span class="sh_symbol">.</span>org iburst</li><li>#server <span class="sh_number">3</span><span class="sh_symbol">.</span>rhel<span class="sh_symbol">.</span>pool<span class="sh_symbol">.</span>ntp<span class="sh_symbol">.</span>org iburst</li><li>server  classroom<span class="sh_symbol">.</span>example<span class="sh_symbol">.</span>com  iburst  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//添加新的配置</span></li><li><span class="sh_symbol">..</span> <span class="sh_symbol">..</span> </li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# vim  /etc/chrony.conf
.. ..
#server 0.rhel.pool.ntp.org iburst  		//注释掉默认的server配置，
#server 1.rhel.pool.ntp.org iburst
#server 2.rhel.pool.ntp.org iburst
#server 3.rhel.pool.ntp.org iburst
server  classroom.example.com  iburst  		//添加新的配置
.. .. 
</pre></div></div>
      <p>2）开启NTP时间同步</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># timedatectl &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//查看现有状态</span></li><li><span class="sh_symbol">..</span> <span class="sh_symbol">..</span></li><li>     NTP enabled<span class="sh_symbol">:</span> no&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//NTP可能尚未启用</span></li><li>NTP <span class="sh_keyword">synchronized</span><span class="sh_symbol">:</span> no  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//尚未完成过一次NTP同步</span></li><li><span class="sh_symbol">..</span> <span class="sh_symbol">..</span></li><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># timedatectl  set<span class="sh_symbol">-</span>ntp  yes  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//启用NTP同步</span></li><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># timedatectl  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//查看启用后的状态</span></li><li><span class="sh_symbol">..</span> <span class="sh_symbol">..</span></li><li>     NTP enabled<span class="sh_symbol">:</span> yes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//NTP已经启用</span></li><li>NTP <span class="sh_keyword">synchronized</span><span class="sh_symbol">:</span> no  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//尚未完成过一次NTP同步</span></li><li><span class="sh_symbol">..</span> <span class="sh_symbol">..</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# timedatectl 				//查看现有状态
.. ..
     NTP enabled: no						//NTP可能尚未启用
NTP synchronized: no  						//尚未完成过一次NTP同步
.. ..
[root@server0 ~]# timedatectl  set-ntp  yes  		//启用NTP同步
[root@server0 ~]# timedatectl  			//查看启用后的状态
.. ..
     NTP enabled: yes						//NTP已经启用
NTP synchronized: no  						//尚未完成过一次NTP同步
.. ..
</pre></div></div>
      <p class="number">步骤三：测试NTP时间同步</p>
      <p>1）先设置一个错误的系统日期时间</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># date  <span class="sh_symbol">-</span>s  <span class="sh_string">'2001-09-11 11:30:00'</span>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//调整日期时间</span></li><li><span class="sh_number">2001</span>年 <span class="sh_number">09</span>月 <span class="sh_number">11</span>日 星期二 <span class="sh_number">11</span><span class="sh_symbol">:</span><span class="sh_number">30</span><span class="sh_symbol">:</span><span class="sh_number">00</span> CST</li><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># date  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//确认调整结果</span></li><li><span class="sh_number">2001</span>年 <span class="sh_number">09</span>月 <span class="sh_number">11</span>日 星期二 <span class="sh_number">11</span><span class="sh_symbol">:</span><span class="sh_number">30</span><span class="sh_symbol">:</span><span class="sh_number">01</span> CST</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# date  -s  '2001-09-11 11:30:00'  			//调整日期时间
2001年 09月 11日 星期二 11:30:00 CST
[root@server0 ~]# date  									//确认调整结果
2001年 09月 11日 星期二 11:30:01 CST
</pre></div></div>
      <p>2）启动系统服务chronyd，并设为开机自启</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># systemctl  restart  chronyd</li><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># systemctl  enable  chronyd</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# systemctl  restart  chronyd
[root@server0 ~]# systemctl  enable  chronyd
</pre></div></div>
      <p>3）重新查看当前的系统时间</p>
      <p>重启chronyd服务后稍等片刻，当前系统的日期时间应该恢复正常（与NTP服务器保持一致）：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># date</li><li><span class="sh_number">2016</span>年 <span class="sh_number">12</span>月 <span class="sh_number">23</span>日 星期五 <span class="sh_number">23</span><span class="sh_symbol">:</span><span class="sh_number">44</span><span class="sh_symbol">:</span><span class="sh_number">53</span> CST</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# date
2016年 12月 23日 星期五 23:44:53 CST
</pre></div></div>
      <p>再次执行timedatectl查看，会发现NTP synchronized的值已经变成yes：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># timedatectl  </li><li><span class="sh_symbol">..</span> <span class="sh_symbol">..</span></li><li>     NTP enabled<span class="sh_symbol">:</span> yes&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//NTP已经启用</span></li><li>NTP <span class="sh_keyword">synchronized</span><span class="sh_symbol">:</span> no  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//已经完成过一次NTP同步</span></li><li><span class="sh_symbol">..</span> <span class="sh_symbol">..</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# timedatectl  
.. ..
     NTP enabled: yes						//NTP已经启用
NTP synchronized: no  						//已经完成过一次NTP同步
.. ..
</pre></div></div>
      <a name="case4">
      </a>
      <h2>4 案例4：配置一个cron任务</h2>
      <h3>4.1 问题</h3>
      <p>本例要求为用户 natasha 配置一个定时任务，具体要求如下：</p>
      <ol class="list">
        <li>每天在本地时间 14:23 执行
</li>
        <li>需要完成的任务操作为 /bin/echo  hiya
</li>
      </ol>
      <h3>4.2 方案</h3>
      <p>配置格式可参考 /etc/crontab 文件：</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li>分  时  日  月  周      任务命令行（绝对路径）</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">分  时  日  月  周      任务命令行（绝对路径）
</pre></div></div>
      <p>在表示各段的时间点时，除了明确的数值以外，还可以参考以下形式：</p>
      <ul class="list">
        <li>*：匹配范围内任意时间
</li>
        <li>,：分隔多个不连续的时间点
</li>
        <li>-：指定连续时间范围
</li>
        <li>/n：指定时间频率，每n ...
</li>
      </ul>
      <h3>4.3 步骤</h3>
      <p>实现此案例需要按照如下步骤进行。</p>
      <p class="number">步骤一：配置crontab任务记录</p>
      <p>1）确保系统服务crond可用</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># systemctl  restart  crond</li><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># systemctl  enable  crond</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# systemctl  restart  crond
[root@server0 ~]# systemctl  enable  crond
</pre></div></div>
      <p>2）为用户natasha添加计划任务</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># crontab  <span class="sh_symbol">-</span>e  <span class="sh_symbol">-</span>u  natasha</li><li><span class="sh_number">23</span>  <span class="sh_number">14</span>  <span class="sh_symbol">*</span>  <span class="sh_symbol">*</span>  <span class="sh_symbol">*</span>  <span class="sh_regexp">/bin/</span>echo hiya</li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# crontab  -e  -u  natasha
23  14  *  *  *  /bin/echo hiya
</pre></div></div>
      <p class="number">步骤二：检查任务是否执行</p>
      <p>1）将系统日期时间临时调整到任务时间点前10秒左右</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># date  <span class="sh_symbol">-</span>s  <span class="sh_string">'14:22:50'</span>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//设置</span></li><li>Sat Nov <span class="sh_number">26</span> <span class="sh_number">14</span><span class="sh_symbol">:</span><span class="sh_number">22</span><span class="sh_symbol">:</span><span class="sh_number">50</span> CST <span class="sh_number">2016</span></li><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># date  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//确认日期时间</span></li><li>Sat Nov <span class="sh_number">26</span> <span class="sh_number">14</span><span class="sh_symbol">:</span><span class="sh_number">22</span><span class="sh_symbol">:</span><span class="sh_number">55</span> CST <span class="sh_number">2016</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# date  -s  '14:22:50'  			//设置
Sat Nov 26 14:22:50 CST 2016
[root@server0 ~]# date  							//确认日期时间
Sat Nov 26 14:22:55 CST 2016
</pre></div></div>
      <p>2）等待10秒后查看/var/log/cron日志，应该会有执行记录</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># <span class="sh_normal">tail  </span><span class="sh_symbol">/</span><span class="sh_keyword">var</span><span class="sh_regexp">/log/</span>cron</li><li><span class="sh_symbol">..</span> <span class="sh_symbol">..</span></li><li>Nov <span class="sh_number">26</span> <span class="sh_number">14</span><span class="sh_symbol">:</span><span class="sh_number">23</span><span class="sh_symbol">:</span><span class="sh_number">02</span> localhost CROND<span class="sh_symbol">[</span><span class="sh_number">3818</span><span class="sh_symbol">]:</span> <span class="sh_symbol">(</span>natasha<span class="sh_symbol">)</span> <span class="sh_function">CMD</span> <span class="sh_symbol">(</span><span class="sh_regexp">/bin/</span>echo hiya<span class="sh_symbol">)</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# tail  /var/log/cron
.. ..
Nov 26 14:23:02 localhost CROND[3818]: (natasha) CMD (/bin/echo hiya)
</pre></div></div>
      <p>3）恢复系统日期时间</p>
      <div class="snippet-container" style="undefined;"><div class="sh_acid snippet-wrap"><div class="snippet-menu sh_sourceCode" style="display:none;"><pre style="display: none;"><a class="snippet-copy sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#" style="display: none;">copy</a><a class="snippet-text sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">text</a><a class="snippet-window sh_url" href="http://tts.tmooc.cn/ttsPage/LINUX/NSDTN201801/ADMIN/DAY05/CASE/01/index.html#">pop-up</a></pre></div><pre class="code sh_javascript snippet-formatted sh_sourceCode"><ol class="snippet-num"><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># hwclock  <span class="sh_symbol">-</span>s  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//重设为系统时钟</span></li><li><span class="sh_symbol">[</span>root@server0 <span class="sh_symbol">~]</span># date &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="sh_comment">//确认日期时间</span></li><li>Sat Nov <span class="sh_number">26</span> <span class="sh_number">05</span><span class="sh_symbol">:</span><span class="sh_number">05</span><span class="sh_symbol">:</span><span class="sh_number">23</span> CST <span class="sh_number">2016</span></li></ol></pre><pre class="snippet-textonly sh_sourceCode" style="display:none;">[root@server0 ~]# hwclock  -s  					//重设为系统时钟
[root@server0 ~]# date 							//确认日期时间
Sat Nov 26 05:05:23 CST 2016
</pre></div></div>
    </div>
  
</body></html>